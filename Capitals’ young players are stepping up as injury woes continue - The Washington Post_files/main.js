/*! For license information please see main.js.LICENSE.txt */
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=121)}([function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(178).default,o=n(180),a=o.getCookie,s=o.setCookie,u=o.areCookiesAvailable,c=n(18),l=c.generateUUID,f=c.pollForValues,d=c.coextensive2DArrays,p=c.getViewportSize,h=c.isElementCloseToViewport,v=c.isInBreakpointRange,g=c.getValueForBreakpoint,m=c.processConfigForBreakpoint,y=c.watchForBreakpointUpdates,b=c.getBoundsForBreakpointKey,w=c.createTrackingPixeliFrame,x=c.createTrackingPixelHTML,_=c.convertToPriceBucket,O=c.successBid,S=c.failureBid,k=c.setTargetings,E=c.setAuctionManager,A=c.setBidTargetingForNode,P=c.convertToOpenRtbSizes,z=c.applyStringTemplate,j=c.getNodePos,C=c.getCreativeSize,T=c.loadScript,I=c.getHeadElement,R=c.fetcherJSON,M=c.fetcher,D=c.sort2dSizeArray,N=c.getGPID;e.exports={getCookie:a,setCookie:s,areCookiesAvailable:u,getViewportSize:p,isInBreakpointRange:v,getValueForBreakpoint:g,processConfigForBreakpoint:m,watchForBreakpointUpdates:y,createTrackingPixelHTML:x,createTrackingPixeliFrame:w,convertToPriceBucket:_,successBid:O,failureBid:S,pollForValues:f,urlCheck:function(e,t,n){var r=("variable"===n?new RegExp("[\\?&;]".concat(t,"=([^&#?]*)")):new RegExp("[\\?&;](".concat(t,")[^=&#?]*"))).exec(e);return r?r[r.length-1]:void 0},wordMatch:function(e,t,n){var r=[],i=(n=n||!1)?"":"(|s|es|ed|ing|er)",o=(e=e instanceof Array?e:[e]).length;if(o&&t){for(;o--;)r.push(e[o]+i);return r="\\b".concat(r.join("\\b|\\b"),"\\b"),new RegExp(r,"i").test(t)}return!1},setTargetings:k,setCategoryExclusions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;e.forEach((function(e){return t.setCategoryExclusion(e)}))},addInlineCss:function(e){var t=document.createElement("style");return t.type="text/css",t.media="screen",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),document.getElementsByTagName("head")[0].appendChild(t)},loadScript:T,loadScripts:function(e){var t=I();e.forEach((function(e){T({script:e,node:t})}))},safeGet:function(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n}),e)},getValidPeriod:function(e,t){return t.find((function(t){var n=t.start?new Date(t.start):-1/0,r=t.end?new Date(t.end):1/0;return e>=n&&e<=r}))},isStorageAvailable:function(){var e=!1;try{localStorage.setItem("test","test"),localStorage.removeItem("test"),e=!0}catch(t){e=!1}return e},isMobile:function(){return i().any},isElementCloseToViewport:h,generateUUID:l,getNodePos:j,getNodeKey:function(e){return e.replace(/[0-9]+\b/gm,"*")},isValidKeyValuePair:function(e){return e&&"object"===r(e)&&!Array.isArray(e)&&Object.keys(e).length>0},createZeusAdCss:function(e){var t=document.createElement("style");t.type="text/css";var n="\n    ".concat(e," {\n      display: block;\n    }\n  ");t.appendChild(document.createTextNode(n)),(document.head||document.getElementsByTagName("head")[0]).appendChild(t)},setBidTargetingForNode:A,setAuctionManager:E,applyStringTemplate:z,getBoundsForBreakpointKey:b,convertToOpenRtbSizes:P,coextensive2DArrays:d,coerceValueIntoArray:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=e[t]||n;return r?Array.isArray(r)?r:[r]:[]},getCreativeSize:C,fetcherJSON:R,fetcher:M,sort2dSizeArray:D,getGAMID:function(e){var t,n,r,i;return(null==e||null===(t=e.customPlugins)||void 0===t||null===(n=t.dfpnode)||void 0===n?void 0:n.dfpId)||(null==e||null===(r=e.plugins)||void 0===r||null===(i=r.adunit)||void 0===i?void 0:i.gamId)},getGPID:N}},function(e,t,n){},function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n(126))},function(e,t,n){var r=n(2),i=n(98),o=n(5),a=n(99),s=n(106),u=n(142),c=i("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||a;e.exports=function(e){return o(c,e)&&(s||"string"==typeof c[e])||(s&&o(l,e)?c[e]=l[e]:c[e]=f("Symbol."+e)),c[e]}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(11),i=n(12),o=n(19);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),i=n(55).f,o=n(7),a=n(13),s=n(59),u=n(130),c=n(103);e.exports=function(e,t){var n,l,f,d,p,h=e.target,v=e.global,g=e.stat;if(n=v?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in t){if(d=t[l],f=e.noTargetGet?(p=i(n,l))&&p.value:n[l],!c(v?l:h+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(n,l,d,e)}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(100),i=n(2),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){var r=n(4);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(e,t,n){var r=n(11),i=n(97),o=n(6),a=n(96),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(2),i=n(7),o=n(5),a=n(59),s=n(60),u=n(21),c=u.get,l=u.enforce,f=String(String).split("String");(e.exports=function(e,t,n,s){var u,c=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),(u=l(n)).source||(u.source=f.join("string"==typeof t?t:""))),e!==r?(c?!p&&e[t]&&(d=!0):delete e[t],d?e[t]=n:i(e,t,n)):d?e[t]=n:a(t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t){e.exports=!1},function(e,t){e.exports={}},function(e,t,n){"use strict";var r=n(14),i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={coextensive2DArrays:!0,isElementCloseToViewport:!0,generateUUID:!0,getNodePos:!0,applyStringTemplate:!0,getCreativeSize:!0,sort2dSizeArray:!0};Object.defineProperty(t,"coextensive2DArrays",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"isElementCloseToViewport",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"generateUUID",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"getNodePos",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"applyStringTemplate",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"getCreativeSize",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"sort2dSizeArray",{enumerable:!0,get:function(){return m.default}});var i=n(181);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var o=n(119);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var a=n(182);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))}));var s=n(183);Object.keys(s).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===s[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}}))}));var u=n(185);Object.keys(u).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===u[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}}))}));var c=n(186);Object.keys(c).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===c[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}}))}));var l=n(188);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===l[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}}))}));var f=y(n(190)),d=y(n(191)),p=y(n(192)),h=y(n(193)),v=y(n(194)),g=y(n(195)),m=y(n(196));function y(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(128),i=n(57);e.exports=function(e){return r(i(e))}},function(e,t,n){var r,i,o,a=n(129),s=n(2),u=n(9),c=n(7),l=n(5),f=n(61),d=n(62),p=n(63),h=s.WeakMap;if(a){var v=f.state||(f.state=new h),g=v.get,m=v.has,y=v.set;r=function(e,t){return t.facade=e,y.call(v,e,t),t},i=function(e){return g.call(v,e)||{}},o=function(e){return m.call(v,e)}}else{var b=d("state");p[b]=!0,r=function(e,t){return t.facade=e,c(e,b,t),t},i=function(e){return l(e,b)?e[b]:{}},o=function(e){return l(e,b)}}e.exports={set:r,get:i,has:o,enforce:function(e){return o(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t,n){var r=n(6),i=n(141),o=n(102),a=n(108),s=n(143),u=n(144),c=function(e,t){this.stopped=e,this.result=t};e.exports=function(e,t,n){var l,f,d,p,h,v,g,m=n&&n.that,y=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=a(t,m,1+y+w),_=function(e){return l&&u(l),new c(!0,e)},O=function(e){return y?(r(e),w?x(e[0],e[1],_):x(e[0],e[1])):w?x(e,_):x(e)};if(b)l=e;else{if("function"!=typeof(f=s(e)))throw TypeError("Target is not iterable");if(i(f)){for(d=0,p=o(e.length);p>d;d++)if((h=O(e[d]))&&h instanceof c)return h;return new c(!1)}l=f.call(e)}for(v=l.next;!(g=v.call(l)).done;){try{h=O(g.value)}catch(e){throw u(l),e}if("object"==typeof h&&h&&h instanceof c)return h}return new c(!1)}},function(e,t,n){var r=n(56),i=n(2);e.exports="process"==r(i.process)},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={advadrefresher:{active:!0},flexfix:{active:!1,advertiserIds:[15772018]},gdpr:{active:!0},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},rendercount:{active:!0},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||void 0===r||null===(i=r.advadrefresher)||void 0===i?void 0:i.active)){var o=n(71);e.exports={init:function(e,t){return new o(e,t)},name:"advadrefresher",AdvAdRefresher:o}}},function(e,t,n){"use strict";n(1)},function(e,t,n){"use strict";e.exports={init:function(e){e.on("PERSONALIZED_ADS_PERMISSION",(function(e){return t=e?0:1,window.googletag=window.googletag||{cmd:[]},void window.googletag.cmd.push((function(){window.googletag.pubads().setRequestNonPersonalizedAds(t)}));var t}))},name:"gdpr"}},function(e,t,n){"use strict";var r=n(72).KruxWrapper;e.exports={init:function(e,t){return new r(e,t)},name:"kruxwrapper",KruxWrapper:r}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={advadrefresher:{active:!0},flexfix:{active:!1,advertiserIds:[15772018]},gdpr:{active:!0},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},rendercount:{active:!0},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||void 0===r||null===(i=r.logger)||void 0===i?void 0:i.active)){var o=n(73).Logger;e.exports={init:o.init,name:"logger"}}},function(e,t,n){"use strict";var r=n(74).Metrics;e.exports={onload:r.init,Metrics:r,name:"metrics"}},function(e,t,n){"use strict";var r,i,o=n(75);if(!0===(null===(r={advadrefresher:{active:!0},flexfix:{active:!1,advertiserIds:[15772018]},gdpr:{active:!0},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},rendercount:{active:!0},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||void 0===r||null===(i=r.rendercount)||void 0===i?void 0:i.active)){e.exports={init:function(e){return new o(e)},name:"rendercount",RenderCount:o}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={advadrefresher:{active:!0},flexfix:{active:!1,advertiserIds:[15772018]},gdpr:{active:!0},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},rendercount:{active:!0},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||void 0===r||null===(i=r.zeusInsightsForPublishers)||void 0===i?void 0:i.active)){var o=n(76);e.exports={onload:function(e,t){return new o(e,t)},name:"zeusInsightsForPublishers",ZeusInsightsForPublishers:o}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={advadrefresher:{active:!0},flexfix:{active:!1,advertiserIds:[15772018]},gdpr:{active:!0},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},rendercount:{active:!0},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}})||void 0===r||null===(i=r.zeusslotkvs)||void 0===i?void 0:i.active)){var o=n(77);e.exports={init:function(e,t){return new o(e,t)},name:"zeusslotkvs",ZeusSlotKvs:o}}},function(e,t,n){"use strict";var r,i,o=n(78);if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.adrefresher)||void 0===i?void 0:i.active)){e.exports={init:function(e,t){return new o(e,t)},name:"adrefresher",AdRefresher:o}}},function(e,t,n){"use strict";var r,i,o=n(0);if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.brandmetric)||void 0===i?void 0:i.active)){var a="brandmetric";e.exports={init:function(e){(0,o.loadScript)({script:"https://cdn.brandmetrics.com/survey/script/1ce8beea3b4c462193e67e1ee915a33b.js",onload:function(){e.timer("script loaded",{name:a})},onerror:function(t){return e.error("script loading failed",{name:a,err:t})}})},name:a}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.dfpnode)||void 0===i?void 0:i.active)){var o=n(79).Dfpnode;e.exports={init:function(e,t){return new o(e,t)},name:"dfpnode",Dfpnode:o}}},function(e,t,n){"use strict";var r,i,o=n(0);if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.gdpr)||void 0===i?void 0:i.active)){e.exports={init:function(e){if(o.getCookie("wp_geo").includes("|EEA")&&(function(e){e.on("PERSONALIZED_ADS_PERMISSION",(function(){e.emit("ADD_KEYVALUES",{wp_gdpr:e.config.gdprConsent?"consent":"non_consent"})}))}(e),!window.__tcfapi)){var t=o.getCookie("wp_gdpr");window.__tcfapi&&"1|1"!==t||(e.config.gdprApplies=1,e.config.gdprConsent=!0)}},name:"gdpr"}}},function(e,t,n){"use strict";var r,i,o=n(80);if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.inlineads)||void 0===i?void 0:i.active)){e.exports={init:function(e,t){var n,r;if(null===(n=window)||void 0===n||null===(r=n.wp_meta_data)||void 0===r||!r.disableInlineAds)return new o(e,t)},name:"inlineads",InlineAds:o}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.keepreading)||void 0===i?void 0:i.active)){var o=n(81);e.exports={init:function(e){return new o(e)},name:"keepreading",KeepReading:o}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.malwareblocker)||void 0===i?void 0:i.active)){var o=n(0),a=o.urlCheck,s=o.loadScripts;e.exports={init:function(){var e=window.location.href,t=a(e,"tmt_off","variable"),n=a(e,"tmt_dev","variable");t||s([n?"//scripts.webcontentassessor.com/scripts/35e657fa1b7e2bb7b2e1c0ca7c403ff587744a23f62fb83b91e76c6fb787fcdb":"//scripts.webcontentassessor.com/scripts/9d57e7ee386d4862ec551bf24731dadcab8a37c6f6580c8428470f6489c29264"])},name:"malwareblocker"}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.processor)||void 0===i?void 0:i.active)){var o=n(82);e.exports={init:function(e){return new o(e)},name:"processor",Processor:o}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.urlparams)||void 0===i?void 0:i.active)){var o=n(83);e.exports={name:"urlparams",onload:function(e,t){return new o(e,t)},UrlParams:o}}},function(e,t,n){"use strict";var r,i;function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.usp)||void 0===i?void 0:i.active)){var u=n(0),c=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e),s(this,"buildUspApi",(function(){var e=n.defaultUsp;n.uspapi={getUSPString:function(e){return"".concat(e.iabSpec,e.explicitNotice,e.optOut,e.lspa)},setUSPString:function(e){n.zeus.usPrivacy.uspString=e,n.uspStringSet=!0},getUSPFromLS:function(t){if(n.uspStringSet&&n.zeus.usPrivacy.uspString.length>=4)t(n.zeus.usPrivacy.uspString);else try{var r="";if(localStorage.getItem("wapo_identity")){var i=JSON.parse(localStorage.getItem("wapo_identity"));r=n.uspapi.getUSPString(i.privacySetting.ccpa)}else u.getCookie("wp_usp")&&(r=u.getCookie("wp_usp"));return r?n.uspapi.setUSPString(r):r=e,void t(r)}catch(n){return console.debug("error in accessing usp from local storage: ".concat(n,", returning default")),void t(e)}},getUSPData:function(e,t){n.uspapi.getUSPFromLS((function(n){t({version:e,uspString:n},!0)}))},v1:{getUSPData:function(e){e?n.uspapi.getUSPData(1,e):console.debug("No uspapi callback received",e)}}}})),s(this,"authConsumer",(function(e){var t="1---";try{navigator.globalPrivacyControl&&"CA"===e.geoState?n.uspapi.setUSPString("1YYY"):e.privacySetting&&e.privacySetting.ccpa?(t=n.uspapi.getUSPString(e.privacySetting.ccpa),n.uspapi.setUSPString(t)):e.geoState&&"CA"!=e.geoState&&(n.zeus.info("Auth Consumer found no CCPA, but not in CA"),n.uspapi.setUSPString(t))}catch(e){n.zeus.error("Auth Processing Failed",{name:"usp",err:e})}})),console.debug("[Zeus - usp plugin] Usp Zeus Activated"),this.zeus=t,this.defaultUsp=r.hasOwnProperty("uspDefault")?r.uspDefault:"1NYY",this.zeus.wapoUsPrivacy={},this.uspapi={},this.uspStringSet=!1,this.initUsp()}var t,n,r;return t=e,(n=[{key:"buildCcpaListener",value:function(){window.addEventListener("message",(function(e){if(e.data.hasOwnProperty("__uspapiCall")){e.stopImmediatePropagation&&e.stopImmediatePropagation();var t=e.data.__uspapiCall.command,n=e.data.__uspapiCall.version;t&&n&&window.__uspapi(t,n,(function(t,n){var r={__uspapiReturn:{returnValue:t,callId:e.data.__uspapiCall.callId,success:n}};e.source.postMessage(r,e.origin)}))}return null}),!1)}},{key:"initUsp",value:function(){var e=this;if(window.__uspapi)this.zeus.ccpa.collectAndSetString();else{this.buildUspApi(),this.zeus.wapoUsPrivacy=this.uspapi;try{window.registerAuthConsumer?window.registerAuthConsumer(this.authConsumer):(window.authConsumers=window.authConsumers||[],window.authConsumers.push(this.authConsumer))}catch(e){this.zeus.error("Can not register AuthConsumer",{name:"usp",err:e})}this.buildCcpaListener(),window.__uspapi=function(t,n,r){var i=e.zeus.wapoUsPrivacy;return i["v".concat(n)]&&i["v".concat(n)][t]&&"function"==typeof i["v".concat(n)][t]?r?void i["v".concat(n)][t].apply(null,[r]):i["v".concat(n)][t]:(console.debug("Malformed __uspapi call",i),console.trace(),!1)}}}}])&&a(t.prototype,n),r&&a(t,r),e}();e.exports={onload:function(e,t){return new c(e,t)},name:"usp",Usp:c}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.webvitals)||void 0===i?void 0:i.active)){var o=n(84).WebVitals;e.exports={name:"webvitals",WebVitals:o,init:function(e){return new o(e)}}}},function(e,t,n){"use strict";var r,i;if(!0===(null===(r={dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}})||void 0===r||null===(i=r.zeusAudience)||void 0===i?void 0:i.active)){var o=n(85).ZeusAudience;e.exports={name:"zeusAudience",ZeusAudience:o,init:function(e,t){return new o(e,t)}}}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(1);var i=n(0),o=i.loadScript,a=i.successBid,s=i.failureBid,u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.a9Config=this.zeus.config.sspConfig.bidders.a9,this.name="a9",this.initA9(this.a9Config.id,this.timeout)}var t,n,i;return t=e,(n=[{key:"initA9",value:function(e,t){var n=this;if(!window.apstag){window.apstag={init:function(){i("i",arguments)},fetchBids:function(){i("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},_Q:[]};var r={pubID:e,adServer:"googletag",bidTimeout:t,deals:!0};this.zeus.ccpa.collectAndSetString().then((function(){r.params={us_privacy:n.zeus.usPrivacy.uspString}})).catch((function(e){n.zeus.warn("CCPA string not set",{name:n.name,err:null==e?void 0:e.msg})})).finally((function(){window.apstag.init(r),o({script:"//c.amazon-adsystem.com/aax2/apstag.js",onload:function(){return n.zeus.timer("script loaded",{name:n.name})},onerror:function(e){return n.zeus.error("script loading failed",{name:n.name,err:e})}})}))}function i(e,t){window.apstag._Q.push([e,t])}}},{key:"bid",value:function(e){var t=this;return new Promise((function(n,r){if(window.apstag&&window.googletag&&e.length)try{var i=e.map((function(e){return{slotID:e.id,sizes:e.zeus.currentSizes,slotName:e.adUnitPath}}));window.apstag.fetchBids({slots:i,timeout:t.timeout},(function(){window.googletag.cmd.push((function(){var r=i.map((function(e){return e.slotID}));window.apstag.setDisplayBids(r),n(a(t.name,e))}))}))}catch(n){r(s(t.name,e,n))}else r(s(t.name,e))}))}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports={init:function(e){return new u(e)}}},function(e,t,n){"use strict";var r=n(86).AppNexus;e.exports={init:function(e){return new r(e)},AppNexus:r}},function(e,t,n){"use strict";var r=n(87).Criteo;e.exports={init:function(e){return new r(e)},Criteo:r}},function(e,t,n){"use strict";var r=n(88).IAS;e.exports={init:function(e){return new r(e)},IAS:r}},function(e,t,n){"use strict";var r=n(89).IndexExchange;e.exports={init:function(e){return new r(e)},IndexExchange:r}},function(e,t,n){"use strict";var r=n(90).Openx;e.exports={init:function(e,t){return new r(e,t)},Openx:r}},function(e,t,n){"use strict"},function(e,t,n){"use strict";var r=n(92).Rubicon;e.exports={init:function(e){return new r(e)},Rubicon:r}},function(e,t,n){"use strict";var r=n(93).Trustx;e.exports={init:function(e){return new r(e)}}},function(e,t,n){var r=n(11),i=n(127),o=n(19),a=n(20),s=n(96),u=n(5),c=n(97),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r=n(2),i=n(9),o=r.document,a=i(o)&&i(o.createElement);e.exports=function(e){return a?o.createElement(e):{}}},function(e,t,n){var r=n(2),i=n(7);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(61),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},function(e,t,n){var r=n(2),i=n(59),o=r["__core-js_shared__"]||i("__core-js_shared__",{});e.exports=o},function(e,t,n){var r=n(98),i=n(99),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},function(e,t){e.exports={}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){var r=n(5),i=n(136),o=n(62),a=n(137),s=o("IE_PROTO"),u=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},function(e,t,n){var r,i=n(6),o=n(139),a=n(65),s=n(63),u=n(105),c=n(58),l=n(62),f=l("IE_PROTO"),d=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;h=r?function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t}(r):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[f]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(d.prototype=i(e),n=new d,d.prototype=null,n[f]=e):n=h(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(10);e.exports=r("navigator","userAgent")||""},function(e,t,n){var r={};r[n(3)("toStringTag")]="z",e.exports="[object z]"===String(r)},function(e,t,n){var r=n(12).f,i=n(5),o=n(3)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,e),this.name="AdvAdRefresher",this.zeus=t,this.config=i,this.delay=this.zeus.config.delay||3e4,this.cap=this.zeus.config.cap||0,this.isPauseAdListenersAttached=!1,this.globalAdRefreshStop=!1,this.currentBreakpoint=null===(n=this.zeus)||void 0===n||null===(r=n.breakpoint)||void 0===r?void 0:r.breakpoint,this.setupGlobalAdRefresh(),this.zeus.on("SLOT_RENDER_ENDED",this.initSlotRefreshBehaviors.bind(this)),this.zeus.on("IMPRESSION_VIEWABLE",this.doRefresh.bind(this)),this.zeus.on("BREAKPOINT_UPDATED",this.setResetFlag.bind(this))}var t,n,s;return t=e,(n=[{key:"initSlotRefreshBehaviors",value:function(e){var t=e.element,n=e.data;if(!t.refreshBehavior){var r,i,o=(null==t||null===(r=t.firstElementChild)||void 0===r?void 0:r.offsetWidth)||t.offsetWidth,a=(null==t||null===(i=t.firstElementChild)||void 0===i?void 0:i.offsetHeight)||t.offsetHeight;t.refreshBehavior={creativeSize:!n.size||n.size[0]<10?[o,a]:n.size,original:{sizes:JSON.parse(JSON.stringify(t.zeus.inventoryConfig.sizes))}}}t.refreshBehavior.currentStates=this.config.pauseAdOffFocus&&!document.hasFocus()||this.globalAdRefreshStop?"PAUSED":"INIT",this.initPauseAdOnHover({element:t}),this.initPauseAdOffFocus()}},{key:"clearRefreshTimer",value:function(e){e.refreshBehavior.timerReference&&clearTimeout(e.refreshBehavior.timerReference)}},{key:"doRefresh",value:function(e){var t=this,n=e.element;this.shouldAdRefresh({element:n})&&(this.fixAdSize({element:n}),this.clearRefreshTimer(n),n.refreshBehavior.timerReference=setTimeout((function(){t._doRefresh(n)}),this.delay))}},{key:"_doRefresh",value:function(e){var t=e.refreshBehavior||{},n=t.needToReset,r=t.currentStates,i=t.isAdHeightFixed,o=t.needRerender;if(n)this.reset(e);else{if("PAUSED"!==r)return i&&o?(e.refreshBehavior.needRerender=!1,void e.rerender()):void e.render();e.refreshBehavior.currentStates="READY"}}},{key:"shouldAdRefresh",value:function(e){var t,n=e.element,r=this.config.fixAdHeight,i=n.refreshBehavior.creativeSize,o=n.zeus,a=o.currentSizes,s=o.inventoryConfig;if(!1===(null===(t=s.refresh)||void 0===t?void 0:t.status))return!1;var u=(null==s?void 0:s.refresh)||{},c=u.fixAdHeight,l=u.fixAdHeightSize;return!1===r||!1===c||a.some((function(e){return e.toString()==i.toString()}))||(n.refreshBehavior.creativeSize=l||this.getFixAdHeightSize(n)),n.refresh}},{key:"getFixAdHeightSize",value:function(e){var t=e.refreshBehavior.creativeSize,n=e.zeus.currentSizes;if(1===n.length)return n[0];var r,i,o=[],s=a(n);try{for(s.s();!(i=s.n()).done;){var u=i.value;if(!(u[0]<50)){var c=Math.abs(t[1]/u[1]-1);(c<.5&&void 0===r||c<r)&&(r=c,o=u)}}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"fixAdSize",value:function(e){var t,n,r=e.element;if(((null==r||null===(t=r.zeus)||void 0===t||null===(n=t.inventoryConfig)||void 0===n?void 0:n.refresh)||{}).fixAdHeight&&!r.refreshBehavior.isAdHeightFixed){var i=r.refreshBehavior.creativeSize,o=this.getSizesToSet(r,i,"sizes"),a=r.zeus.inventoryConfig;r.zeusAdConfig=Object.assign(a,{sizes:o}),r.style.minHeight="".concat(i[1],"px"),r.refreshBehavior.isAdHeightFixed=!0,r.refreshBehavior.needRerender=!0}}},{key:"getSizesToSet",value:function(e,t,n){var r=e.zeus.inventoryConfig[n];if(Array.isArray(r))return[t];var i=Object.assign({},e.zeus.inventoryConfig[n]);for(var o in i)i[o]=[t];return i}},{key:"setResetFlag",value:function(){var e,t,n=null===(e=this.zeus)||void 0===e||null===(t=e.breakpoint)||void 0===t?void 0:t.breakpoint;if(this.currentBreakpoint!==n){var r,i=a(this.zeus.adNodes);try{for(i.s();!(r=i.n()).done;){var o,s=r.value;null!=s&&null!==(o=s.refreshBehavior)&&void 0!==o&&o.isAdHeightFixed&&(s.refreshBehavior.needToReset=!0)}}catch(e){i.e(e)}finally{i.f()}this.currentBreakpoint=n}}},{key:"reset",value:function(e){var t=e.zeus.inventoryConfig;e.refreshBehavior.isAdHeightFixed=!1,e.refreshBehavior.needToReset=!1,e.zeusAdConfig=Object.assign(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.refreshBehavior.original)),e.style.height="",e.rerender()}},{key:"initPauseAdOnHover",value:function(e){var t=this,n=e.element,r=n.zeus.inventoryConfig.refresh,i=(void 0===r?{}:r).pauseAdHover;void 0!==i&&i&&(n.addEventListener("mouseover",(function(){document.hasFocus()&&t.pauseRefresh(n)})),n.addEventListener("mouseleave",(function(){document.hasFocus()&&(t.globalAdRefreshStop||t.resumeRefresh(n))})))}},{key:"pauseRefresh",value:function(e){var t=e.refreshBehavior.currentStates;"RESUME"!==t&&"INIT"!==t||(e.refreshBehavior.currentStates="PAUSED")}},{key:"resumeRefresh",value:function(e){var t=e.refreshBehavior,n=t.needRerender;"READY"!==t.currentStates?e.refreshBehavior.currentStates="RESUME":n?e.rerender():e.render()}},{key:"getValidNodes",value:function(e){return e.filter((function(e){return"object"===r(e.refreshBehavior)}))}},{key:"initPauseAdOffFocus",value:function(){var e=this;if(this.config.pauseAdOffFocus&&!this.isPauseAdListenersAttached){var t=this.zeus.adNodes||[];window.addEventListener("focus",(function(){e.globalAdRefreshStop||e.getValidNodes(t).forEach(e.resumeRefresh)})),window.addEventListener("blur",(function(){e.getValidNodes(t).forEach(e.pauseRefresh)})),this.isPauseAdListenersAttached=!0}}},{key:"setupGlobalAdRefresh",value:function(){var e=this,t=this.zeus.adNodes||[];this.zeus.on("GLOBAL_AD_REFRESH_STOP",(function(){e.globalAdRefreshStop=!0,e.getValidNodes(t).forEach(e.pauseRefresh)})),this.zeus.on("GLOBAL_AD_REFRESH_RESUME",(function(){e.globalAdRefreshStop=!1,e.getValidNodes(t).forEach(e.resumeRefresh)}))}}])&&c(t.prototype,n),s&&c(t,s),e}();e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KruxWrapper=void 0,n(1);var r=n(0);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.kruxId=null==n?void 0:n.kruxId,this.kruxId?(this.namespace=n.namespace||"",this.kPrefix=this.namespace?"kx".concat(this.namespace,"_"):"kx",(0,r.loadScripts)(["//cdn.krxd.net/controltag?confid=".concat(this.kruxId)]),this.setKruxValues(),this.zeus.on("CCPA_UPDATED",(function(e){return i.setUserConsent(e)}))):this.zeus.warn("no kruxId supplied",{name:"kruxWrapper"})}var t,n,a,u,c;return t=e,(n=[{key:"getValues",value:function(e){try{return window.localStorage.getItem("".concat(this.kPrefix).concat(e))||""}catch(e){return this.zeus.info("[Zeus Krux plugin] - can not get value from storage",null==e?void 0:e.message),""}}},{key:"setKruxValues",value:function(){window.Krux||((window.Krux=function(){window.Krux.q.push(arguments)}).q=[]),Krux.user=this.getValues("user");var e=this.getValues("segs");Krux.segments=e?e.split(","):[],this.zeus.emit("ADD_KEYVALUES",{ksg:Krux.segments,kuid:Krux.user})}},{key:"fetchRequest",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(r){var i,a=t.namespace?["ns:".concat(t.namespace),e,n]:[e,n];(i=window).Krux.apply(i,a.concat([function(e,t){if(e){var n=o(Object.values(e),1)[0];throw new Error(n||"Unknown krux api error")}r(t)}]))}))}},{key:"setUserConsent",value:(u=regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data,e.prev=1,window.Krux&&"Y"===(null==n?void 0:n.uspString[2])){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.fetchRequest("consent:set",{dc:!1,al:!1,tg:!1,cd:!1,sh:!1,re:!1});case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.zeus.warn("api error",{name:"kruxWrapper",err:e.t0});case 11:case"end":return e.stop()}}),e,this,[[1,8]])})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=u.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return c.apply(this,arguments)})}])&&s(t.prototype,n),a&&s(t,a),e}();t.KruxWrapper=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0,n(1);var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(t,n){var r,i,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"LOG_LEVELS",{TIMER:0,DEBUG:0,INFO:1,WARN:2,ERROR:3}),o(this,"LOG_PREFIX","ZEUS_LOGGER"),this.zeus=t,this.config=n,this.logLevel=this.getLogLevel(),this.events=this.getEvents(),this.logger=console,null===(r=this.events)||void 0===r||null===(i=r.forEach)||void 0===i||i.call(r,(function(e){return t.on(e,(function(t){return a.handleEvent(e,t||{})}))})),Object.keys(this.LOG_LEVELS).map((function(e){return t.on(e,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return a.log.apply(a,[e].concat(n))}))}))}var t,n,a;return t=e,a=[{key:"init",value:function(t,n){return new e(t,n)}}],(n=[{key:"getLogger",value:function(e){if(!this.logLevel||this.logLevel<=this.LOG_LEVELS[e])return this.logger[null==e?void 0:e.toLowerCase()]||this.logger.info}},{key:"log",value:function(e){try{for(var t=this.getLogger(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];null==t||t.apply(void 0,["--".concat(this.LOG_PREFIX,"--")].concat(r))}catch(e){}}},{key:"handleEvent",value:function(e,t){var n,r=t.element,i=t.elements,o=t.data,a=Date.now()-(null===(n=this.zeus)||void 0===n?void 0:n.executionStart),s=i||[r];this.log("INFO",e,{nodes:s,data:o,dt:a})}},{key:"getLogLevel",value:function(){var e,t=(0,r.getCookie)("".concat(this.LOG_PREFIX,"_LEVEL"));return t&&!isNaN(Number(t))?parseInt(t,10):(null===(e=this.config)||void 0===e?void 0:e.logLevel)||this.LOG_LEVELS.WARN}},{key:"getEvents",value:function(){var e,t=(0,r.getCookie)("".concat(this.LOG_PREFIX,"_EVENTS"));return t?t.split(","):(null===(e=this.config)||void 0===e?void 0:e.events)||[]}}])&&i(t.prototype,n),a&&i(t,a),e}();t.Logger=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metrics=void 0,n(1);var r=n(0);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){var n,i,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(this,e),f(this,"METRIC_EVENTS",["SLOTS_WILL_RENDER","BID_COMPLETED","SLOT_RENDER","SLOT_RENDER_ENDED","SLOT_ONLOAD","IMPRESSION_VIEWABLE"]),f(this,"USER_METRICS",["WARN","ERROR","TIMER"]),this.zeus=t,this.name="metrics",this.zeus.info("loading plugin",{name:this.name}),this.slots=[],this.currentSlots={},this.userDefined=[],this.maxUserMetrics=200,this.visitId=(0,r.generateUUID)(),this.initTime=Date.now(),this.apiHost=a.apiHost||"",this.apiKey=a.apiKey||"",this.bucketSize=a.bucketSize||.2,this.customer=null==t||null===(n=t.config)||void 0===n?void 0:n.customer,this.site=window.location.href,this.platform=(0,r.isMobile)()?"mobile":"desktop",this.updateInterval=isNaN(a.updateInterval)?6e4:a.updateInterval,this.excludeList=null===(i=a.excludes)||void 0===i?void 0:i.reduce((function(e,t){return u(u({},e),{},f({},t,!0))}),{}),this.METRIC_EVENTS.forEach((function(e){return o.zeus.on(e,(function(t){return o.handleEvents(e,t)}))})),this.USER_METRICS.forEach((function(e){return o.zeus.on(e,(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o.handleUserDefined.apply(o,[e].concat(n))}))})),window.addEventListener("unload",(function(){return o.handleUnload()})),setInterval((function(){return o.processMetrics()}),this.updateInterval)}var t,n,a,s,d;return t=e,n=[{key:"handleEvents",value:function(e,t){var n,r,i=this;try{switch(e){case"SLOTS_WILL_RENDER":this.createSlotMetrics(null==t?void 0:t.elements);break;case"BID_COMPLETED":null==t||null===(n=t.elements)||void 0===n||n.forEach((function(e){return i.updateBidMetrics(e,null==t?void 0:t.data)}));break;case"SLOT_RENDER":null==t||null===(r=t.elements)||void 0===r||r.forEach((function(e){return i.updateRenderMetric(e)}));break;case"SLOT_RENDER_ENDED":this.updateRenderEndedMetric(null==t?void 0:t.element,null==t?void 0:t.data);break;case"SLOT_ONLOAD":this.updateLoadMetric(null==t?void 0:t.element);break;case"IMPRESSION_VIEWABLE":this.updateViewableMetric(null==t?void 0:t.element)}}catch(t){this.handleUserDefined("ERROR","Error handling event ".concat(e),{name:this.name,err:t})}}},{key:"checkMetric",value:function(e,t){var n;if(null===(n=this.excludeList)||void 0===n||!n[e])return f({},e,t)}},{key:"setMetrics",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(n,r){return u(u({},n),e.checkMetric(r,t[r]))}),{})}},{key:"pageInfo",get:function(){return{i:this.visitId,u:this.site,dv:this.platform,ct:this.customer,ch:this.zeus.commitHash||"",vc:this.zeus.variant||"",buc:this.bucketSize}}},{key:"gdpr",get:function(){var e,t;return!1===(null===(e=this.zeus)||void 0===e||null===(t=e.config)||void 0===t?void 0:t.gdprConsent)}},{key:"ccpa",get:function(){var e,t,n=null===(e=this.zeus)||void 0===e||null===(t=e.usPrivacy)||void 0===t?void 0:t.uspString;return"1---"!==n&&"1YNY"!==n}},{key:"getUserDefined",value:function(){var e=this.userDefined;return this.userDefined=[],e}},{key:"getSlots",value:function(){var e=this.slots;return this.slots=[],e}},{key:"addSlot",value:function(e){var t=e.id,n=e.renderId,r=e.renderCount,i=e.availableSizes,o=e.viewed,a=e.renderSize,s=e.loadTime,u=e.renderTimer,c=e.renderEndedTimer,l=e.advertiserId,f=e.lineItemId,d=e.ssps,p=e.timeStart;this.slots.push(this.setMetrics({ts:p-this.initTime,n:t,rid:n,st:r,sz:i,v:o,rs:a,lt:s,rt:u,ret:c,adv:l,wc:f,sp:d}))}},{key:"formatBidSlots",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{return t.reduce((function(t,n){var r=n.sspName,i=n.price,a=n.error;if(!r)return e.zeus.warn("missing sspName from bids",{name:e.name}),t;var s=t[r]||{};if(!isNaN(i)){var c,l=(null===(c=t[r])||void 0===c?void 0:c.price)||[];return u(u({},t),{},f({},r,u(u({},s),{},{price:[].concat(o(l),[i])})))}if("string"==typeof a){var d,p=(null===(d=t[r])||void 0===d?void 0:d.error)||[];return u(u({},t),{},f({},r,u(u({},s),{},{error:[].concat(o(p),[a])})))}return e.zeus.warn("missing price or error message from ".concat(r),{name:e.name}),t}),{})}catch(e){this.zeus.warn("Error building metrics",{name:this.name,err:e})}}},{key:"formatBids",value:function(e){var t=this,n=e.slotBids,r=void 0===n?{}:n,i=e.ssps,o=void 0===i?[]:i,a=e.timeStart;try{return o.map((function(e){var n,i,o=e.ssp,s=e.timestamp,u=e.success,c=e.msg;return t.setMetrics({bn:o,bs:u,bm:"string"==typeof c?c:"",bt:a&&s&&s-a,c:(null===(n=r[o])||void 0===n?void 0:n.price)||[],be:(null===(i=r[o])||void 0===i?void 0:i.error)||[]})}))}catch(e){this.zeus.warn("Error building metrics",{name:this.name,err:e})}}},{key:"updateRenderMetric",value:function(e){var t,n=(e||{}).id;n&&(this.currentSlots[n]=u(u({},this.currentSlots[n]),{},{id:n,renderTimer:Date.now()-(null===(t=this.currentSlots[n])||void 0===t?void 0:t.timeStart)}))}},{key:"updateRenderEndedMetric",value:function(e,t){var n,r,i=e||{},o=i.id,a=i.zeus,s=t||{},c=s.size,l=s.advertiserId,f=s.lineItemId;o&&(this.currentSlots[o]=u(u({},this.currentSlots[o]),{},{id:o,advertiserId:l,lineItemId:f,renderEndedTimer:Date.now()-(null===(n=this.currentSlots[o])||void 0===n?void 0:n.timeStart),renderSize:c,availableSizes:null==a||null===(r=a.currentSizes)||void 0===r?void 0:r.filter((function(e){return Array.isArray(e)}))}))}},{key:"updateViewableMetric",value:function(e){var t=e.id;t&&(this.currentSlots[t]=u(u({},this.currentSlots[t]),{},{id:t,viewed:!0}))}},{key:"updateLoadMetric",value:function(e){var t,n,r=(e||{}).id;r&&(this.currentSlots[r]=u(u({},this.currentSlots[r]),{},{id:r,loadTime:Date.now()-(null===(t=this.currentSlots[r])||void 0===t?void 0:t.timeStart),renderSize:(null===(n=this.currentSlots[r])||void 0===n?void 0:n.renderSize)||[null==e?void 0:e.offsetWidth,null==e?void 0:e.offsetHeight]}))}},{key:"updateBidMetrics",value:function(e,t){var n,r=this,i=e||{},o=i.id,a=i.bidResponses;if(o){var s=(void 0===a?[]:a).map((function(e){return r.zeus.auctionManager[e]})),c=this.formatBidSlots(s);this.currentSlots[o]=u(u({},this.currentSlots[o]),{},{id:o,ssps:this.formatBids({slotBids:c,ssps:t,timeStart:null===(n=this.currentSlots[o])||void 0===n?void 0:n.timeStart})})}}},{key:"buildSlotMetrics",value:function(e,t,n){var r=this;return e.reduce((function(e,i){return null!=i&&i.id?(r.currentSlots[i.id]&&r.addSlot(r.currentSlots[i.id]),u(u({},e),{},f({},i.id,{id:i.id,renderCount:i.renderCount,timeStart:n,renderId:t}))):e}),{})}},{key:"createSlotMetrics",value:function(e){if(Array.isArray(e)){var t=this.buildSlotMetrics(e,(0,r.generateUUID)(),Date.now());this.currentSlots=u(u({},this.currentSlots),t)}}},{key:"handleUserDefined",value:function(e,t,n){var r;if(this.userDefined.length===this.maxUserMetrics)return this.userDefined.push({ut:"ERROR",um:"max queue size reached ".concat(this.maxUserMetrics),uc:Date.now()-this.initTime,un:this.name});this.userDefined.length>this.maxUserMetrics||this.userDefined.push({ut:e,um:"string"==typeof t?t:"INVALID_MESSAGE_TYPE",uc:Date.now()-this.initTime,ul:"string"==typeof(null==n?void 0:n.name)?n.name:void 0,ue:null!=n&&n.err?"".concat(null==n?void 0:n.err):void 0,un:"string"==typeof(null==n||null===(r=n.node)||void 0===r?void 0:r.id)?n.node.id:void 0})}},{key:"createRequest",value:function(e){return{url:"".concat(this.apiHost,"/api/v1/events"),body:u({event:e},this.setMetrics(u({s:this.getSlots(),ud:this.getUserDefined(),gdpr:this.gdpr,ccpa:this.ccpa},this.pageInfo)))}}},{key:"processMetrics",value:(s=regeneratorRuntime.mark((function e(){var t,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=this.createRequest("slot-metrics-update"),i=n.url,(o=n.body).s.length||o.ud.length){e.next=4;break}return e.abrupt("return");case 4:if(null===(t=navigator)||void 0===t||!t.sendBeacon){e.next=6;break}return e.abrupt("return",navigator.sendBeacon(i,JSON.stringify(o)));case 6:return e.next=8,(0,r.fetcher)(i,{timeout:5e3,method:"POST",body:JSON.stringify(o)});case 8:e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=14;break}return e.abrupt("return");case 14:this.zeus.warn("Error sending events",{name:this.name,err:e.t0});case 15:case"end":return e.stop()}}),e,this,[[0,10]])})),d=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function a(e){i(o,n,r,a,u,"next",e)}function u(e){i(o,n,r,a,u,"throw",e)}a(void 0)}))},function(){return d.apply(this,arguments)})},{key:"handleUnload",value:function(){try{var e;for(var t in this.currentSlots)this.addSlot(this.currentSlots[t]);var n=this.createRequest("slot-metrics-end"),r=n.url,i=n.body;if(null!==(e=navigator)&&void 0!==e&&e.sendBeacon)return navigator.sendBeacon(r,JSON.stringify(i));var o=new XMLHttpRequest;o.open("POST",r,!1),o.send(JSON.stringify(i))}catch(e){}}}],a=[{key:"init",value:function(t,n){var r=(n||{}).bucketSize,i=void 0===r?.2:r;return Math.random()<=i&&new e(t,n)}}],n&&l(t.prototype,n),a&&l(t,a),e}();t.Metrics=d},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(1);var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.zeus.on("NODE_CONFIG_UPDATED",(function(e){var t=e.node;n.setRenderCount(t)})),this.zeus.on("AFTER_SLOT_RENDER",(function(e){var t=e.elements;null==t||t.forEach((function(e){return n.setRenderCount(e)}))}))}var t,n,r;return t=e,(n=[{key:"setRenderCount",value:function(e){e.targeting=i(i({},e.targeting),{},{zeus_rendercount:"".concat(e.renderCount+1)})}}])&&a(t.prototype,n),r&&a(t,r),e}();e.exports=s},function(e,t,n){"use strict";var r=n(0);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pathname=window.location.pathname,this.zeus=t,this.pluginName="zip",this.cloudfront="https://insights.zeustechnology.com","false"!==(null===(n=window.zeusKeyvalues)||void 0===n?void 0:n.zeus_prime)&&this.init()}var t,n,i,a,s,l,f;return t=e,(n=[{key:"init",value:(f=u(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getInsights();case 2:t=e.sent,this.setAdTargeting(null==t?void 0:t.topics);case 4:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"logTimer",value:function(e,t,n){var r=e||"request_completed";"warn"===t?this.zeus.warn(r,{name:this.pluginName,err:n}):this.zeus.timer(r,{name:this.pluginName})}},{key:"getUrlHash",value:(l=u(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.crypto||window.msCrypto,e.next=3,n.subtle.digest("SHA-1",new TextEncoder("utf-8").encode(t));case 3:return r=e.sent,i=Array.prototype.map.call(new Uint8Array(r),(function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})},{key:"getTopics",value:(s=u(regeneratorRuntime.mark((function e(){var t,n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.hostname,n="".concat(t).concat(this.pathname),e.next=4,this.getUrlHash(n);case 4:return i=e.sent,o="".concat(this.cloudfront,"/").concat(t,"/").concat(i,"?article_location=").concat(n),e.next=8,(0,r.fetcher)(o,{timeout:2e3,method:"GET"});case 8:return a=e.sent,e.next=11,a.json();case 11:return s=e.sent,e.abrupt("return",s);case 13:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"processInsights",value:function(e,t){var n=e.topics;t.resolved=!0,t.error=!1,t.topics=n}},{key:"getTopicsTargeting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length?{}:{zeus_insights:e}}},{key:"getDanAdTargeting",value:function(){var e,t=(0,r.getGAMID)(this.zeus.config);if(!t)return{};var n={};return n["zeus_".concat(t)]=null===(e=window.location)||void 0===e?void 0:e.hostname,n}},{key:"setAdTargeting",value:function(e){var t=this.getDanAdTargeting(),n=this.getTopicsTargeting(e),r=o(o({},t),n);this.zeus.emit("ADD_KEYVALUES",r)}},{key:"processErrors",value:function(e,t){if("Error: TIMEOUT"===e.toString()?(this.logTimer(null,"warn","Timeout"),t.error="ZIP Timeout"):"number"==typeof e.status&&e.status>=400&&e.status<500&&(this.logTimer(null,"warn","400 [bad request]"),t.error="".concat("400 [bad request]"," ").concat(e.status)),!1===t.error){var n="Unexpected Error";this.zeus.info("ZIP:  ".concat(n),e),this.logTimer(null,"warn",n),t.error="".concat(n," ").concat(e.status)}}},{key:"getInsights",value:(a=u(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={resolved:!1,error:!1,topics:[]},!this.isNormalArticle()){e.next=15;break}return this.logTimer("request_started"),e.prev=3,e.next=6,this.getTopics();case 6:n=e.sent,this.logTimer(),this.processInsights(n,t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),this.processErrors(e.t0,t);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(){return a.apply(this,arguments)})},{key:"isNormalArticle",value:function(){var e=this.pathname;return void 0===[{test:/\/search/,type:"search"},{test:/\/author/,type:"author"},{test:/\/event/,type:"event"},{test:/\/homepage/,type:"front"},{test:/^\/?$/,type:"front"}].find((function(t){return e.match(t.test)}))}}])&&c(t.prototype,n),i&&c(t,i),e}();e.exports=l},function(e,t,n){"use strict";n(1);var r=n(0);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.testConfig=null==n?void 0:n.test,this.zeus.on("NODE_CONFIG_UPDATED",(function(e){var t=e.node;r.setZeusSlotKv(t)})),this.zeus.on("AFTER_SLOT_RENDER",(function(e){var t=e.elements;null==t||t.forEach((function(e){return r.setZeusSlotKv(e)}))}))}var t,n,i;return t=e,(n=[{key:"getDeviceType",value:function(){var e="";return e=window.navigator.userAgent&&!0===(0,r.isMobile)()?"mob":"dsk",".".concat(e)}},{key:"getRenderType",value:function(e){return".".concat(0===e.renderCount?"init":"ref")}},{key:"getTestVariant",value:function(){var e;return null!==(e=this.testConfig)&&void 0!==e&&e.active?".".concat(this.testConfig.variant):""}},{key:"compileKv",value:function(e){var t=this.getDeviceType(),n=this.getRenderType(e);return"".concat(e.id).concat(n).concat(t)}},{key:"setZeusSlotKv",value:function(e){try{var t,n=this.compileKv(e),r={zeus_slot:n};if(null!==(t=this.testConfig)&&void 0!==t&&t.active){var i=this.getTestVariant();r.zeus_variant="".concat(n).concat(i)}e.targeting=o(o({},e.targeting),r)}catch(e){this.zeus.error("set zeus_slot kv",{name:"zeusSlotKv",err:e})}}}])&&s(t.prototype,n),i&&s(t,i),e}();e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="AdRefresher",this.zeus=t,this.config=n,this.delay=this.zeus.config.delay||3e4,this.cap=this.zeus.config.cap||0,this.isPauseAdListenersAttached=!1,this.zeus.on("SLOT_RENDER_ENDED",this.initSlotRefreshBehaviors.bind(this)),this.zeus.on("IMPRESSION_VIEWABLE",this.doRefresh.bind(this)),this.zeus.on("BREAKPOINT_UPDATED",this.setResetFlag.bind(this))}var t,n,s;return t=e,(n=[{key:"initSlotRefreshBehaviors",value:function(e){var t=e.element,n=e.data;t.refreshBehavior||(t.refreshBehavior={creativeSize:!n.size||n.size[0]<10?[t.firstElementChild.offsetWidth,t.firstElementChild.offsetHeight]:n.size,original:{sizes:Object.assign({},t.zeus.inventoryConfig.sizes)}}),t.refreshBehavior.currentStates=document.hasFocus()?"INIT":"PAUSED",this.initPauseAdOnHover({element:t}),this.initPauseAdOffFocus()}},{key:"clearRefreshTimer",value:function(e){e.refreshBehavior.timerReference&&clearTimeout(e.refreshBehavior.timerReference)}},{key:"doRefresh",value:function(e){var t=this,n=e.element;this.shouldAdRefresh({element:n})&&(this.fixAdSize({element:n}),this.clearRefreshTimer(n),n.refreshBehavior.timerReference=setTimeout((function(){t._doRefresh(n)}),this.delay))}},{key:"_doRefresh",value:function(e){var t=e.refreshBehavior||{},n=t.needToReset,r=t.currentStates,i=t.isAdHeightFixed,o=t.needRerender;if(n)this.reset(e);else{if("PAUSED"!==r)return i&&o?(e.refreshBehavior.needRerender=!1,void e.rerender()):void e.render();e.refreshBehavior.currentStates="READY"}}},{key:"shouldAdRefresh",value:function(e){var t,n=e.element,r=n.refreshBehavior.creativeSize,i=n.zeus,o=i.currentSizes,a=i.inventoryConfig;return(null==a||null===(t=a.refresh)||void 0===t?void 0:t.fixAdHeight)?o.some((function(e){return e.toString()==r.toString()}))?n.refresh:r[1]<=250?this.fluidSizeAd(n):this.irregularSizeAd(n):n.refresh}},{key:"fluidSizeAd",value:function(e){return e.refreshBehavior.creativeSize=[300,250],e.refresh}},{key:"irregularSizeAd",value:function(e){return this.zeus.warn("size mismatch, stop refreshing",{name:this.name,node:e}),!1}},{key:"fixAdSize",value:function(e){var t,n,r=e.element;if(((null==r||null===(t=r.zeus)||void 0===t||null===(n=t.inventoryConfig)||void 0===n?void 0:n.refresh)||{}).fixAdHeight&&!r.refreshBehavior.isAdHeightFixed){var i=r.refreshBehavior.creativeSize,o=this.getSizesToSet(r,i,"sizes"),a=r.zeus.inventoryConfig;r.zeusAdConfig=Object.assign(a,{sizes:o}),r.style.minHeight="".concat(i[1],"px"),r.refreshBehavior.isAdHeightFixed=!0,r.refreshBehavior.needRerender=!0}}},{key:"getSizesToSet",value:function(e,t,n){var r=Object.assign({},e.zeus.inventoryConfig[n]);for(var i in r)r[i]=[t];return r}},{key:"setResetFlag",value:function(){var e,t=a(this.zeus.adNodes);try{for(t.s();!(e=t.n()).done;){var n,r=e.value;null!=r&&null!==(n=r.refreshBehavior)&&void 0!==n&&n.isAdHeightFixed&&(r.refreshBehavior.needToReset=!0)}}catch(e){t.e(e)}finally{t.f()}}},{key:"reset",value:function(e){var t=e.zeus.inventoryConfig;e.refreshBehavior.isAdHeightFixed=!1,e.refreshBehavior.needToReset=!1,e.zeusAdConfig=Object.assign(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.refreshBehavior.original)),e.style.height="",e.rerender()}},{key:"initPauseAdOnHover",value:function(e){var t=this,n=e.element,r=n.zeus.inventoryConfig.refresh,i=(void 0===r?{}:r).pauseAdHover;void 0!==i&&i&&(n.addEventListener("mouseover",(function(){document.hasFocus()&&t.pauseRefresh(n)})),n.addEventListener("mouseleave",(function(){document.hasFocus()&&t.resumeRefresh(n)})))}},{key:"pauseRefresh",value:function(e){var t=e.refreshBehavior.currentStates;"RESUME"!==t&&"INIT"!==t||(e.refreshBehavior.currentStates="PAUSED")}},{key:"resumeRefresh",value:function(e){var t=e.refreshBehavior,n=t.needRerender;"READY"!==t.currentStates?e.refreshBehavior.currentStates="RESUME":n?e.rerender():e.render()}},{key:"initPauseAdOffFocus",value:function(){var e=this;if(!this.isPauseAdListenersAttached){var t=this.zeus.adNodes||[],n=function(e){return"object"===r(e.refreshBehavior)};window.addEventListener("focus",(function(){t.filter(n).forEach(e.resumeRefresh)})),window.addEventListener("blur",(function(){t.filter(n).forEach(e.pauseRefresh)})),this.isPauseAdListenersAttached=!0}}}])&&u(t.prototype,n),s&&u(t,s),e}();e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Dfpnode=void 0;var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t,n){var r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.name="dfpnode",this.config=n,this.isMobile=null===(r=this.zeus.config)||void 0===r||null===(i=r.wpAdParams)||void 0===i?void 0:i.isMobile,this.setDfpNode()}var t,n,o;return t=e,(n=[{key:"setDfpNode",value:function(){try{var e=this.getDpfId(),t=this.isMobile?"mob.wp.":"wpni.",n=this.getCommercialNode();this.zeus.config.dfpNode="".concat(e).concat(t).concat(n)}catch(e){this.zeus.error("setup failed",{name:this.name,err:e})}}},{key:"getDpfId",value:function(){var e=this.config.dfpId;if(!e)throw new Error("Misconfigured dfpId");return"/".concat(e,"/")}},{key:"getCommercialNode",value:function(){var e,t=this.getMetaData(),n=this.nodeGenerator(t);return null!==(e=this.zeus.config)&&void 0!==e&&e.wpAdParams||(this.zeus.config.wpAdParams={}),this.zeus.config.wpAdParams.commercialNode=n,n}},{key:"getMetaData",value:function(){return window.wp_meta_data||window.wpAdFusion||{}}},{key:"urlCheckAndParams",value:function(e){var t=window.location.href,n=(0,r.urlCheck)(t,e);return Boolean(n||new RegExp(e).exec(t))}},{key:"_getString",value:function(e){return"string"==typeof e?e:null!=e&&e.length&&"string"==typeof e[0]?e[0]:""}},{key:"_getContentType",value:function(e){var t=this._getString(e);return t&&{article:"article",audiostory:"audio",blogfront:"blog",blogstory:"blog",blog:"blog",front:"front",graphicstory:"graphic",mediagallery:"photo",gallery:"photo",videostory:"video"}[t.toLowerCase()]||""}},{key:"nodeGenerator",value:function(e){var t=(0,r.urlCheck)(window.location.href,"dcnode","variable");if(t)return t;var n=this.getDefaultCommercialNode(e),i=this._getContentType(e.contentType),o=this._getString(e.contentName);return e.isHomepage?this.isMobile?"homepage":n:!i&&o&&o.length?"".concat(n,"/").concat(o):"bytheway"===n?this.handleSpecialNode(n):i&&"article"!==i?this.handleContentType(i,o,n):n}},{key:"getDefaultCommercialNode",value:function(e){return(window.commercialNode||e.commercialNode||"politics").replace(/\s/g,"").replace(/^\/*|\/*$/g,"").replace(/[^0-9a-zA-Z_.\-/]/g,"")}},{key:"handleContentType",value:function(e,t,n){return"blog"===e&&t&&t.length?"".concat(n,"/").concat(e,"/").concat(t):"front"===e&&t&&t.length?"".concat(n,"/").concat(t,"/").concat(e):"".concat(n,"/").concat(e)}},{key:"handleSpecialNode",value:function(e){return this.urlCheckAndParams("/tips/")?"".concat(e,"/tips"):/\/travel\/[0-9]{4}\/[0-9]{2}\/[0-9]{2}\//i.test(window.location.href)?"".concat(e,"/news"):/\/travel\/(?!tips)(?!news)[^\d]/i.test(window.location.href)?"".concat(e,"/city-guides"):void 0}}])&&i(t.prototype,n),o&&i(t,o),e}();t.Dfpnode=o},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t,n){var r,i,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name="InlineAds",this.zeus=t,this.config=n,this.currentBuffer=n.bufferSpace||0,this.isMobile=null===(r=this.zeus.config)||void 0===r||null===(i=r.wpAdParams)||void 0===i?void 0:i.isMobile,"loading"!==document.readyState?this.init():document.addEventListener("DOMContentLoaded",(function(){return o.init()}),!1)}var t,n,i;return t=e,(n=[{key:"init",value:function(){try{this.isMobile&&this.insertFixedBottomAds();var e=document.getElementById("article-body");if(!e)return;var t=e.querySelector("article");if(!t)return;var n=t.children;if(null==n||!n.length)return;var r=Array.from(n).filter(this.validateParagraph.bind(this)),i=this.getTailElements(r);this.insertAds(r,i)}catch(e){this.zeus.error("init failed",{name:this.name,err:e})}}},{key:"validateParagraph",value:function(e){if(!e)return!1;var t=e.className.trim().split(" "),n=this.config.spacingTags,r=this.config.skipClassList;return!n.includes(e.tagName)&&!r.some((function(e){return t.includes(e)}))}},{key:"isInvalidInsertPoint",value:function(e){var t=e.nextElementSibling;return!this.validateParagraph(t)}},{key:"getTailElements",value:function(e){var t=[],n=0;if(null!=e&&e.length){for(var r=e.length-1;r>=0;r--){var i=e[r];if((n+=i.textContent.length)>=400)break;t.push(i)}return t}}},{key:"insertAds",value:function(e,t){var n=this.getAdConfig(),r=n.defaultPos,i=n.adSpacing.default,o=i.minParaCount,a=i.totalAdCount,s=i.minCharCount,u=i.firstAdOnChar,c=0,l=0,f=0,d=f?s:u;for(var p in e){var h,v=e[p],g=null==v||null===(h=v.textContent)||void 0===h?void 0:h.length;if(g){if(f===a)break;if(l+=g,!(++c<o||l<d||this.isInvalidInsertPoint(v))){var m=f?"".concat(r,"_").concat(f+1):r,y=this.generateAd(m);if(t.includes(v)){t[0].insertAdjacentElement("afterend",y);break}v.insertAdjacentElement("afterend",y),f++,c=0,l=0}}}}},{key:"getAdConfig",value:function(){return this.isMobile?this.config.mobile:this.config.desktop}},{key:"insertFixedBottomAds",value:function(){var e=document.getElementsByClassName("krux-settings");if(!(window.wpAdFusion||e.length>0)){var t=this.generateAd("fixedBottom");t.style.cssText="position: fixed; bottom:0; left:0; width:100%; background-color:#eee; text-align:center; z-index:5; padding-top:1px;",document.body.appendChild(t)}}},{key:"generateAd",value:function(e,t){try{var n,r,i,o,a=null===(n=this.zeus.config)||void 0===n||null===(r=n.general)||void 0===r?void 0:r.slotPrefix,s=null===(i=this.zeus.config)||void 0===i||null===(o=i.general)||void 0===o?void 0:o.tagName,u=Object.assign({tagName:s,prefix:a},this.config.tagConfig,t),c=document.createElement(u.tagName);c.id=u.prefix+e,u.className&&(c.className=u.className),u.cssText&&(c.style.cssText+=u.cssText);var l=document.createElement("div");return l.className="grey-bg",l.style.cssText+="width: 100%; margin: 32px auto; padding: 24px 0px; background: #f7f7f7; min-height: calc(2 * 24px + 250px);",l.appendChild(c),l}catch(e){this.zeus.error("generate ad failed",{name:this.name,err:e})}}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.init()}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e,t,n=this,r=(null===(e=this.zeus.config)||void 0===e||null===(t=e.general)||void 0===t?void 0:t.slotPrefix)||"zeus_";this.zeus.on("SLOT_RENDER_ENDED",(function(e){var t=e.element;t.offsetHeight>=600&&t.id=="".concat(r,"mob_bigbox")&&n.appendKeepRead(t)}))}},{key:"appendKeepRead",value:function(e){var t=document.createElement("P"),n=document.createElement("SPAN");t.id="fullpage_keepRead",t.innerHTML="Keep Reading",t.style.cssText="display: block; position: relative; text-align: right; font: normal 20px FranklinITCProLight, sans-serif; font-weight: bold;color: black;text-decoration: none;cursor:pointer; width:100%;",n.style.cssText="width: 10px; height: 10px; border-right: 5px solid black; border-top: 5px solid black; transform: rotate(135deg); display: inline-block; margin-left:5px;",t.appendChild(n),t.addEventListener("click",(function(){var t=e.parentElement.nextElementSibling;t&&t.scrollIntoView({alignToTop:!0,behavior:"smooth"})})),e.insertBefore(t,e.firstChild),e.style.height="".concat(e.offsetHeight+43,"px")}}])&&r(t.prototype,n),i&&r(t,i),e}();e.exports=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(0),o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t}var t,n,o;return t=e,(n=[{key:"getInventoryConfig",value:function(e,t){var n=e.id.replace(/^slug_/gm,""),r=t[n]||t[i.getNodeKey(n)],o=e.inventoryConfig;return o&&(r=o),this.overrideRefreshStatus(r),this.applyConfigOverride(e,r),r||null}},{key:"overrideRefreshStatus",value:function(e){var t=i.safeGet(this.zeus,"config.wpAdParams.commercialNode",void 0),n=i.safeGet(e,"refresh.exception",[]);t&&0!==n.length&&n.includes(t)&&(e.refresh.status=!1)}},{key:"applyConfigOverride",value:function(e,t){var n,r,i=null===(n=this.zeus.config)||void 0===n||null===(r=n.wpAdParams)||void 0===r?void 0:r.commercialNode;((null==t?void 0:t.configOverrides)||{})[i]&&e.setAttribute("data-configOverride",i)}}])&&r(t.prototype,n),o&&r(t,o),e}();e.exports=o},function(e,t,n){"use strict";var r=n(0);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t;var n=this.getFromUrl("headerbid"),i=this.getFromUrl("refresh_ads"),o=(0,r.getCookie)("wp_geo"),a=o.includes("|EEA"),s=(0,r.getCookie)("wp_gdpr");this.isNoAds()&&this.halt(),this.isAppClassicIos()&&this.disableThirdPartyPlugins(),("off"===n||a||s||this.isAppClassicIos())&&this.disableSspBidding(),"false"===i&&this.disableAdRefresh(),this.removeAds(),this.checkIsMobile(),this.registerPaywallApi(),this.changeRefreshRate(o)}var t,n,o;return t=e,(n=[{key:"checkIsMobile",value:function(){var e,t=(0,r.getCookie)("wp_devicetype");null!==(e=this.zeus.config)&&void 0!==e&&e.wpAdParams||(this.zeus.config.wpAdParams={}),this.zeus.config.wpAdParams.isMobile=""===t?(0,r.isMobile)():"1"===t}},{key:"removeAds",value:function(){var e=this,t=this.getFromUrl("demoAds");if(t){var n=t.split(";");this.zeus.on("NODE_CONNECTED",(function(t){var r=e.zeus.adNodes.indexOf(t);n.includes(t.id)||-1===r||e.zeus.adNodes.splice(r,1)}))}}},{key:"pwapiConsumer",value:function(e){var t,n=e.action;"function"==typeof(null===(t=window.zeus)||void 0===t?void 0:t.plugins.urlparams.disableAdRefresh)&&(!n||3!==n&&9!==n||(window.zeus.plugins.urlparams.disableAdRefresh(),window.zeus.adNodes.forEach((function(e){var t;null!==(t=e.zeus.inventoryConfig)&&void 0!==t&&t.refresh&&(e.zeus.inventoryConfig.refresh.status=!1)}))))}},{key:"registerPaywallApi",value:function(){"function"==typeof(null==this?void 0:this.pwapiConsumer)&&("function"==typeof window.registerPwapiConsumer?window.registerPwapiConsumer(this.pwapiConsumer):(window.consumers=window.consumers||[],window.consumers.push(this.pwapiConsumer)))}},{key:"getFromUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"variable";return(0,r.urlCheck)(window.location.href,e,t)}},{key:"isNoAds",value:function(){var e=-1!=navigator.userAgent.indexOf("Facebot"),t=this.getFromUrl("no_ads","boolean"),n=this.isPremiumUser();return t||e||n}},{key:"isPremiumUser",value:function(){var e=String((0,r.getCookie)("rplampr")).includes("Premium"),t=String(localStorage.getItem("rplampr")).includes("Premium"),n=String((0,r.getCookie)("wapo_actmgmt")),i=n.includes("EU_NOADS:1")||n.includes("NOADS:1");return e||t||i}},{key:"isAppClassicIos",value:function(){var e=navigator.userAgent.includes("Classic/")&&navigator.userAgent.includes("iOS/");return e}},{key:"halt",value:function(){throw new Error("No ad set in url params")}},{key:"disableThirdPartyPlugins",value:function(){var e;null!==(e=this.zeus.config.plugins)&&void 0!==e&&e.kruxwrapper&&(this.zeus.config.plugins.kruxwrapper.active=!1)}},{key:"disableSspBidding",value:function(){var e=this;Object.keys(this.zeus.config.inventory).forEach((function(t){e.zeus.config.inventory[t]=Object.assign(e.zeus.config.inventory[t],{skipBidding:!0})}))}},{key:"disableAdRefresh",value:function(){for(var e in this.zeus.config.inventory)this.zeus.config.inventory[e].refresh&&(this.zeus.config.inventory[e].refresh.status=!1)}},{key:"changeRefreshRate",value:function(e){e.includes("|511|")&&(this.zeus.config.delay=2e4)}}])&&i(t.prototype,n),o&&i(t,o),e}();e.exports=o},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.WebVitals=void 0;var a=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.zeus.on("NODE_CONFIG_UPDATED",(function(e){var t=e.node;return n.passHeight(t)}))}var t,n,i;return t=e,(n=[{key:"returnMaxWidthHeight",value:function(e){return e.reduce((function(e,t){if(t.length){var n=r(t,2),i=n[0],o=n[1];i>e.width&&(e.width=i),o>e.height&&(e.height=o)}return e}),{width:0,height:0})}},{key:"passHeight",value:function(e){if(null!=e&&e.sizes){var t=this.returnMaxWidthHeight(Object.values(e.sizes).flat(1)),n=t.width,r=t.height;e.style.maxHeight="".concat(r,"px"),e.style.maxWidth="".concat(n,"px")}}}])&&o(t.prototype,n),i&&o(t,i),e}();t.WebVitals=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZeusAudience=void 0;var r=n(0);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.name="zeusAudience",this.config=n,this.getSegments()}var t,n,s,c,l;return t=e,(n=[{key:"createUUID",value:function(){var e=(0,r.generateUUID)();return localStorage.setItem("uuid",e),e}},{key:"buildQuery",value:function(){var e={cartaId:(0,r.getCookie)("wp_crtid"),loginId:(0,r.getCookie)("wapo_login_id"),j_ucid:localStorage.getItem("uuid")||this.createUUID()};return Object.keys(e).reduce((function(t,n){return e[n]?[].concat(a(t),["".concat(n,"=").concat(e[n])]):t}),[]).join("&")}},{key:"getSegments",value:(c=regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.buildQuery(),e.next=4,(0,r.fetcherJSON)("".concat(this.config.url,"?").concat(t),{method:"GET"});case 4:if((n=e.sent)&&"object"===i(n)){e.next=7;break}return e.abrupt("return");case 7:localStorage.setItem("zeus_audience",JSON.stringify(n)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),this.zeus.error("fetch failed",{name:this.name,err:e.t0});case 13:case"end":return e.stop()}}),e,this,[[0,10]])})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=c.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(){return l.apply(this,arguments)})}])&&u(t.prototype,n),s&&u(t,s),e}();t.ZeusAudience=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppNexus=void 0,n(1);var r=n(0);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){var n,o,a,s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,o="bid",a=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=s.buildSlots(t)).body.tags.length){e.next=4;break}return e.abrupt("return",(0,r.successBid)(s.name,[]));case 4:return i=s.buildRequestPayload(n.body),e.next=7,(0,r.fetcherJSON)("//ib.adnxs.com/ut/v3/prebid",{timeout:s.timeout,method:"POST",credentials:"include",withCredentials:!0,body:JSON.stringify(i)});case 7:return o=e.sent,s.setBidTargeting(o,n.slotsToNodes),e.abrupt("return",(0,r.successBid)(s.name,Object.values(n.slotsToNodes)));case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",(0,r.failureBid)(s.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,u,"next",e)}function u(e){i(a,r,o,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}(),o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.name="appnexus"}var t,n,a;return t=e,(n=[{key:"convertSizeArray",value:function(e){return"fluid"===e?{width:1,height:1}:{width:e[0],height:e[1]}}},{key:"getPrimarySize",value:function(e){if(1===e.length)return e[0];var t=e.reduce((function(e,t){return e[t.width*t.height]=t,e}),{});return t[Math.max.apply(null,Object.keys(t))]}},{key:"parseSlot",value:function(e){var t=this,n=e.sspConfig.apnx,i=((null==n?void 0:n.sizes)||e.zeus.currentSizes).map((function(e){return t.convertSizeArray(e)})),o=null!=n&&n.primary_size?this.convertSizeArray(n.primary_size):this.getPrimarySize(i),a=n.id;return{id:parseInt(a),uuid:(0,r.generateUUID)(),sizes:i,primary_size:o,disable_psa:!0,use_pmt_rule:!1,allow_smaller_sizes:!1,prebid:!0,adTypes:["banner"]}}},{key:"buildSlots",value:function(e){var t,n=this;return e.reduce((function(e,t){var r;if(null==t||null===(r=t.sspConfig)||void 0===r||!r.apnx)return n.zeus.warn("no configs",{name:n.name,node:t}),e;var i=n.parseSlot(t);return e.body.tags.push(i),e.slotsToNodes[i.uuid]=t,e}),{body:{tags:[],us_privacy:null===(t=this.zeus.usPrivacy)||void 0===t?void 0:t.uspString},slotsToNodes:{}})}},{key:"buildRequestPayload",value:function(e){var t=this.zeus.config.gdprConsentString,n=Object.assign({},e);if(t){var r=this.zeus.config.gdprApplies;n.gdpr_consent={consent_string:t,consent_required:r}}return n.referrer_detection=this.getReferrerInfo(),n}},{key:"getReferrerInfo",value:function(){var e=window.location.href||null;return{rd_top:!0,rd_ifs:0,rd_ref:e,rd_stk:e}}},{key:"setBidTargeting",value:function(e,t){var n,i=this;if(null==e||null===(n=e.tags)||void 0===n||!n.length)throw new Error("No tags found");e.tags.forEach((function(e){var n=null==e?void 0:e.uuid,o=t[n];if(!o)return i.zeus.warn("no node found for response",{name:i.name});try{var a,s=i.parseNodeForTargeting({ad:null==e||null===(a=e.ads)||void 0===a?void 0:a[0],tag:e,node:o});(0,r.setBidTargetingForNode)(s)}catch(e){(0,r.setAuctionManager)({node:o,auctionId:(0,r.generateUUID)(),sspName:i.name,error:null==e?void 0:e.message})}}))}},{key:"parseNodeForTargeting",value:function(e){var t=e.ad,n=e.tag,i=e.node;if(!t)throw new Error("No ad data found");if(!t.content_source)throw new Error("no content source");if("banner"!==t.ad_type)throw new Error("incorrect ad type");if(!t.cpm)throw new Error("no cpm found");for(var o=n.auction_id,a=t[t.content_source][t.ad_type],s=a.content,u=t[t.content_source].trackers[0].impression_urls,c=0;c<u.length;c++)s+=(0,r.createTrackingPixelHTML)(u[c]);return{node:i,sspName:this.name,targeting:t.deal_id?{zeus_deal_appnexus:t.deal_id}:{},price:t.cpm,auctionId:o,creativeCode:s,width:a.width,height:a.height}}}])&&o(t.prototype,n),a&&o(t,a),e}();t.AppNexus=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Criteo=void 0,n(1);var r=n(0);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(this,"makeTheBiddingFunction",(function(e,t,r,i){n.api.RequestBidsOnGoogleTagSlots({networkId:e,placements:r,callback:function(e){return n.api.SetDFPKeyValueTargeting(),i(e)}},t)})),a(this,"requestBid",(function(e){return new Promise((function(t,r){var i,o;if("number"!=typeof(null===(i=n.criteoConfig)||void 0===i?void 0:i.id))return r(new Error("plugin misconfigured"));if(null===(o=n.api)||void 0===o||!o.RequestBidsOnGoogleTagSlots)return r(new Error("No API found"));var a=setTimeout((function(){return r(new Error("TIMEOUT"))}),n.timeout),s=e.map((function(e){return e.slot}));n.api.events.push(n.makeTheBiddingFunction(n.criteoConfig.id,n.timeout,s,(function(e){clearTimeout(a),Array.isArray(e)?t(e):r(new Error("Invalid Payload"))})))}))})),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.criteoConfig=this.zeus.config.sspConfig.bidders.criteo,this.name="criteo",this.bidIds={},this.loadScript()}var t,n,s,u,c;return t=e,(n=[{key:"loadScript",value:function(){var e=this;(0,r.getCookie)("wp_geo").includes("|EEA")||(0,r.loadScript)({script:"//static.criteo.net/js/ld/publishertag.js",onload:function(){return e.zeus.timer("script loaded",{name:e.name})},onerror:function(t){return e.zeus.error("script loading failed",{name:e.name,err:t})}})}},{key:"api",get:function(){return window.Criteo}},{key:"setBidData",value:function(e,t){var n=this,i=e.filter((function(e){return!n.bidIds[e.id]}));if(!i.length)throw new Error("No bids received");i.forEach((function(e){var i=e.id,o=e.displayUrl,a=e.width,s=e.height,u=e.cpm,c=e.impressionId,l=t.find((function(e){return e.id===c}));if(!l)return n.zeus.warn("No bid received for ".concat(c),{name:n.name});(0,r.setAuctionManager)({sspName:n.name,auctionId:i,creativeCode:o,width:a,height:s,price:u,node:l}),n.bidIds[i]=c}))}},{key:"bid",value:(u=regeneratorRuntime.mark((function e(){var t,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:[],e.prev=1,e.next=4,this.requestBid(t);case 4:return n=e.sent,this.setBidData(n,t),e.abrupt("return",(0,r.successBid)(this.name,t));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",(0,r.failureBid)(this.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[1,9]])})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=u.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return c.apply(this,arguments)})}])&&o(t.prototype,n),s&&o(t,s),e}();t.Criteo=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IAS=void 0,n(1);var r=n(0);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n,r,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.apiId=null===(n=this.zeus.config.sspConfig)||void 0===n||null===(r=n.bidders)||void 0===r||null===(i=r.ias)||void 0===i?void 0:i.id,this.name="ias",this.apiURL="//pixel.adsafeprotected.com/services/pub",this.hasSetPageKV=!1}var t,n,o,s,c;return t=e,(n=[{key:"buildSlotsParams",value:function(e){return e.map((function(e){var t=e.zeus.currentSizes.map((function(e){return Array.isArray(e)?e.join("."):"1.8"}));return["slot","{id:".concat(e.id,",ss:[").concat(t.join(","),"],p:").concat(e.adUnitPath,"}")].join("=")}))}},{key:"buildPageParams",value:function(){var e,t,n,r;if(!this.apiId)throw new Error("IAS Missing api Id");return[["wr",[window.innerWidth||-1,window.innerHeight||-1].join(".")],["sr",[(null===(e=window)||void 0===e||null===(t=e.screen)||void 0===t?void 0:t.width)||-1,(null===(n=window)||void 0===n||null===(r=n.screen)||void 0===r?void 0:r.height)||-1].join(".")],["url",encodeURIComponent(window.location.href)],["anId",this.apiId]].map((function(e){return e.join("=")}))}},{key:"buildRequest",value:function(e){var t=this.buildPageParams(),n=this.buildSlotsParams(e);return"".concat(this.apiURL,"?").concat([].concat(u(t),u(n)).join("&"))}},{key:"setBidTargeting",value:function(e,t){var n,i=this;if(null==e||!e.slots)throw new Error("no bid response");t.forEach((function(t){try{var n=e.slots[t.id];if(!n)throw new Error("No ad response");(0,r.setTargetings)(n,t.slot)}catch(e){(0,r.setAuctionManager)({auctionId:(0,r.generateUUID)(),sspName:i.name,node:t,error:null==e?void 0:e.message})}})),this.hasSetPageKV||(this.zeus.emit("ADD_KEYVALUES",a(a({},e.brandSafety),{},{fr:e.fr,"ias-kw":null==e||null===(n=e.custom)||void 0===n?void 0:n["ias-kw"]})),this.hasSetPageKV=!0)}},{key:"bid",value:(s=regeneratorRuntime.mark((function e(t){var n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=this.buildRequest(t),e.next=4,(0,r.fetcherJSON)(n,{timeout:this.timeout,method:"GET",credentials:"include",headers:{"Content-Type":"text/plain"},withCredentials:!0});case 4:return i=e.sent,this.setBidTargeting(i,t),e.abrupt("return",(0,r.successBid)(this.name,t));case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",(0,r.failureBid)(this.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 12:case"end":return e.stop()}}),e,this,[[0,9]])})),c=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function a(e){i(o,n,r,a,u,"next",e)}function u(e){i(o,n,r,a,u,"throw",e)}a(void 0)}))},function(e){return c.apply(this,arguments)})}])&&l(t.prototype,n),o&&l(t,o),e}();t.IAS=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndexExchange=void 0,n(1);var r=n(0);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){var n,i,o,u,c,l,d,p,h,v,g,m,y,b=this;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"fetchBids",(function(e){return new Promise((function(t){b.api.retrieveDemand(e,(function(e){return t(e)}),b.options)}))})),f(this,"buildTargeting",(function(e,t){return t.reduce((function(t,n){b.buildKeyValue(t.kv,n.targeting);var i=s(n.size||[],2),o=i[0],a=i[1];return t.bids.push({auctionId:(0,r.generateUUID)(),sspName:b.name,price:n.price/100,node:e,height:o,width:a}),t}),{kv:{},bids:[]})})),f(this,"buildKeyValue",(function(e,t){for(var n in t)e[n]?e[n].push(t[n]):e[n]=[t[n]]})),f(this,"setTargeting",(function(e,t){if(null==e||!e.slot)throw new Error("No slots returned from IX");Object.keys(t).forEach((function(n){try{var i;if(null==e||null===(i=e.slot[n])||void 0===i||!i.length)throw new Error("No bid data found");var o=b.buildTargeting(t[n],null==e?void 0:e.slot[n]),s=o.bids,u=o.kv;(0,r.setTargetings)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u),t[n].slot),s.forEach((function(e){return(0,r.setAuctionManager)(e)}))}catch(e){(0,r.setAuctionManager)({auctionId:(0,r.generateUUID)(),node:t[n],sspName:b.name,error:null==e?void 0:e.message})}}))})),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.slotPrefix=(null===(n=this.zeus.general)||void 0===n?void 0:n.slotPrefix)||"zeus_",this.script=null===(i=this.zeus.config.sspConfig)||void 0===i||null===(o=i.bidders)||void 0===o||null===(u=o.indexExchange)||void 0===u?void 0:u.script,this.useSizes=null===(c=this.zeus.config.sspConfig)||void 0===c||null===(l=c.bidders)||void 0===l||null===(d=l.indexExchange)||void 0===d?void 0:d.useSizes,this.useSort=null===(p=this.zeus.config.sspConfig)||void 0===p||null===(h=p.bidders)||void 0===h||null===(v=h.indexExchange)||void 0===v?void 0:v.useSort,this.ignoreSizes=null===(g=this.zeus.config.sspConfig)||void 0===g||null===(m=g.bidders)||void 0===m||null===(y=m.indexExchange)||void 0===y?void 0:y.ignoreSizes,this.alwaysIgnoredSizes=[[1,1],"fluid"],this.options={timeout:this.timeout},this.name="indexExchange",!this.script)return this.zeus.error("no script present",{name:this.name});(0,r.loadScript)({script:this.script,onload:function(){return b.zeus.timer("script loaded",{name:b.name})},onerror:function(e){return b.zeus.error("script loading failed",{name:b.name,err:e})}})}var t,n,c,d,p;return t=e,(n=[{key:"api",get:function(){return window.headertag}},{key:"getValidSizes",value:function(e){var t,n=this.alwaysIgnoredSizes;return null!==(t=this.ignoreSizes)&&void 0!==t&&t.length&&(n=[].concat(o(n),o(this.ignoreSizes))),e.filter((function(e){return!n.find((function(t){return t.toString()===e.toString()}))}))}},{key:"formatSizes",value:function(e){var t="";return e.reduce((function(n,r,i){!i||i%3||(n.push(t),t="");var o=Array.isArray(r)?"".concat(r[0],"x").concat(r[1]):r;return t="".concat(t).concat(o,"_"),i+1===e.length&&n.push(t),n}),[])}},{key:"getSizePostfix",value:function(e,t){for(var n=1;n<=5;n++){var r="".concat(e).concat(n);if(!t[r])return r}}},{key:"buildSlotSizeNames",value:function(e,t){var n=this.getValidSizes(t.zeus.currentSizes);this.useSort&&n.sort(r.sort2dSizeArray);var i,o=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(this.formatSizes(n));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=this.getSizePostfix(a,e.nodeMap);s?(e.nodeMap[s]=t,e.slotNames.push({htSlotName:s})):(0,r.setAuctionManager)({auctionId:(0,r.generateUUID)(),node:t,sspName:this.name,error:"".concat(a," exceeded limit")})}}catch(e){o.e(e)}finally{o.f()}return e}},{key:"buildSlotNames",value:function(e,t){var n,r,i=(null===(n=t.sspConfig)||void 0===n||null===(r=n.indexExchange)||void 0===r?void 0:r.name)||t.id.replace(this.slotPrefix,"");return e.slotNames.push({htSlotName:i}),e.nodeMap[i]=t,e}},{key:"getSlotNames",value:function(e){var t=this;return e.reduce((function(e,n){return t.useSizes?t.buildSlotSizeNames(e,n):t.buildSlotNames(e,n)}),{slotNames:[],nodeMap:{}})}},{key:"bid",value:(d=regeneratorRuntime.mark((function e(t){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==(n=this.api)&&void 0!==n&&n.retrieveDemand){e.next=3;break}throw new Error("no indexExchange headertag present");case 3:return i=this.getSlotNames(t),o=i.slotNames,a=i.nodeMap,e.next=6,this.fetchBids(o);case 6:return s=e.sent,this.setTargeting(s,a),e.abrupt("return",(0,r.successBid)(this.name,t));case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",(0,r.failureBid)(this.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 14:case"end":return e.stop()}}),e,this,[[0,11]])})),p=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=d.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e){return p.apply(this,arguments)})}])&&l(t.prototype,n),c&&l(t,c),e}();t.IndexExchange=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Openx=void 0,n(1);var r=n(0);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(t){var n,i,o,a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"bid",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,o,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=a.buildSlots(t),(i=Object.values(n.nodes)).length){e.next=5;break}return e.abrupt("return",(0,r.successBid)(a.name,[]));case 5:return o=a.buildRequest(n),e.next=8,(0,r.fetcherJSON)(o,{timeout:a.timeout,method:"GET",credentials:"include",headers:{"Content-Type":"text/plain"},withCredentials:!0});case 8:return s=e.sent,a.setBidTargeting(s,n),e.abrupt("return",(0,r.successBid)(a.name,i));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",(0,r.failureBid)(a.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.SSPDOMAIN=(null===(n=this.zeus.config.sspConfig)||void 0===n||null===(i=n.bidders)||void 0===i||null===(o=i.openx)||void 0===o?void 0:o.domain)||"",this.name="openx"}var t,n,i;return t=e,(n=[{key:"buildSlots",value:function(e){return e.reduce((function(e,t,n){var r,i,o,s,u,c=null==t||null===(r=t.sspConfig)||void 0===r||null===(i=r.openx)||void 0===i?void 0:i.id,l=(null==t||null===(o=t.sspConfig)||void 0===o||null===(s=o.openx)||void 0===s?void 0:s.sizes)||(null==t||null===(u=t.zeus)||void 0===u?void 0:u.currentSizes);if(!c||null==l||!l.length)return e;var f=l.filter((function(e){return"fluid"!==e})).map((function(e){var t=a(e,2),n=t[0],r=t[1];return"".concat(n,"x").concat(r)}));return e.attrs.push({sizes:f.join(","),oxAdUnitId:c}),e.nodes["".concat(c,"_").concat(n)]=t,e}),{attrs:[],nodes:{}})}},{key:"buildRequest",value:function(e){var t=o(o(o({auid:[],aus:[],bc:"hb_pb_wapo",be:"1",ch:"UTF-8",ju:encodeURIComponent(window.location.href),res:"".concat(window.screen.width,"x").concat(window.screen.height,"x").concat(window.screen.colorDepth),tz:(new Date).getTimezoneOffset(),nocache:(new Date).valueOf()},this.getLiveRampInfo()),this.getGdprInfo()),this.getCCPAInfo());e.attrs.forEach((function(e){t.auid.push(e.oxAdUnitId),t.aus.push(e.sizes)})),t.aus=t.aus.join("|");var n=Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e]instanceof Array?t[e].join(","):t[e])}));return"".concat(this.SSPDOMAIN,"?").concat(n.join("&"))}},{key:"getLiveRampInfo",value:function(){var e,t,n=null===(e=this.zeus)||void 0===e||null===(t=e.liveRamp)||void 0===t?void 0:t.uid;return n?{lre:n}:{}}},{key:"getGdprInfo",value:function(){var e=this.zeus.config,t=e.gdprApplies,n=e.gdprConsentString;return n?{gdpr:t,gdpr_consent:n}:{}}},{key:"getCCPAInfo",value:function(){return this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString?{us_privacy:this.zeus.usPrivacy.uspString}:{}}},{key:"setBidTargeting",value:function(e,t){var n,i=this;if(null==e||null===(n=e.ads)||void 0===n||!n.count)throw new Error("no ads slots present");if(!Array.isArray(e.ads.ad))throw new Error("Invalid response type");e.ads.ad.forEach((function(n){var o=null==n?void 0:n.adunitid,a=(null==n?void 0:n.idx)||0,s=t.nodes["".concat(o,"_").concat(a)];if(!s)return i.zeus.warn("no slot found ".concat(o," ").concat(a),{name:i.name});try{var u;if(!n.html||!n.pub_rev||null===(u=n.creative)||void 0===u||!u.length)throw new Error("No html, pub_rev, or creative found on response");var c=n.creative[0],l=n.html;e.ads.pixels&&(l+=(0,r.createTrackingPixeliFrame)(e.ads.pixels)),(0,r.setBidTargetingForNode)({node:s,sspName:i.name,auctionId:(0,r.generateUUID)(),creativeCode:l,width:null==c?void 0:c.width,height:null==c?void 0:c.height,price:parseInt(n.pub_rev,10)/1e3})}catch(e){(0,r.setAuctionManager)({node:s,sspName:i.name,auctionId:(0,r.generateUUID)(),error:null==e?void 0:e.message})}}))}}])&&c(t.prototype,n),i&&c(t,i),e}();t.Openx=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pubmatic=void 0,n(1);var r=n(0),i=n(18);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(t){var n,a,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"loadApi",(function(){(0,r.loadScript)({script:c.apiScript,onload:function(){var e,t;c.scriptHasBeenFetched=!0,null===(e=c.api)||void 0===e||null===(t=e.sync)||void 0===t||t.call(e,{pubId:c.bidderConfig.publisherId}),c.zeus.timer("script loaded",{name:c.name})},onerror:function(e){return c.zeus.error("script loading failed",{name:c.name,err:e})}})})),f(this,"buildSlots",(function(e){var t=e.reduce((function(e,t){return(0,r.coerceValueIntoArray)(t.sspConfig,c.name,{}).forEach((function(n){var i=n.tagid||t.id,o=n.sizes?n.sizes:(0,r.convertToOpenRtbSizes)(t.zeus.currentSizes),a=(0,r.generateUUID)(),l=o[0],f={id:a,tagid:i,banner:{w:l.w,h:l.h,format:u(o)}};c.gamId&&(f.ext=s({dfp_ad_unit_code:c.gamId},(0,r.getGPID)({gamId:c.gamId,node:t}))),e.slotsToNodes[a]=t,e.slots.push(f)})),e}),{slots:[],slotsToNodes:{}});if(0===t.slots.length)throw new Error("No SSP config objects found");return t})),f(this,"buildRequest",(function(e){var t,n,o,a=window.location.host,u=c.zeus.config,l=u.gdprApplies,f=u.gdprConsentString,d=null===(t=c.zeus)||void 0===t||null===(n=t.liveRamp)||void 0===n?void 0:n.uid;return Object.assign(s(s({id:(0,r.generateUUID)(),imp:e,site:{domain:a,page:a+window.location.pathname+window.location.search+window.location.hash,publisher:{id:c.bidderConfig.publisherId}},device:{ua:null===(o=window.navigator)||void 0===o?void 0:o.userAgent},at:1,test:Number(c.isTestBid)},(0,i.getRegs)({gdprApplies:l,gdprConsentString:f})),(0,i.getUser)({uid:d,gdprApplies:l,gdprConsentString:f})),c.zeus.usPrivacy&&c.zeus.usPrivacy.uspString?{us_privacy:c.zeus.usPrivacy.uspString}:{})})),f(this,"setBidTargeting",(function(e,t){try{if(null==t||!t.slot)return c.zeus.warn("No slot present",{name:c.name,node:t});if(!e)throw new Error("No bid data");(0,r.setBidTargetingForNode)({node:t,sspName:c.name,auctionId:e.impid,creativeCode:decodeURIComponent(e.adm),width:e.w,height:e.h,price:e.price})}catch(e){(0,r.setAuctionManager)({sspName:c.name,node:t,auctionId:(0,r.generateUUID)(),error:null==e?void 0:e.message})}})),f(this,"processBidResponse",(function(e,t){if(null==e||!e.seatbid)throw new Error("No bids returned");e.seatbid.forEach((function(e){var n=e.bid.reduce((function(e,n){var r=t[n.impid].id;return(!e[r]||e[r].price<n.price)&&(e[r]=n),e}),{});Object.values(n||{}).forEach((function(e){c.setBidTargeting(e,t[e.impid])}))}))})),f(this,"bid",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c.scriptHasBeenFetched){e.next=3;break}throw new Error("api script not loaded");case 3:if(c.api){e.next=5;break}throw new Error("no window tag found");case 5:return n=c.buildSlots(t),i=n.slots,o=n.slotsToNodes,a=c.buildRequest(i),e.next=9,(0,r.fetcherJSON)("https://hbopenbid.pubmatic.com/translator?source=zeus_client",{timeout:c.timeout,method:"POST",credentials:"include",withCredentials:!0,body:JSON.stringify(a)});case 9:return s=e.sent,c.processBidResponse(s,o),e.abrupt("return",(0,r.successBid)(c.name,t));case 14:return e.prev=14,e.t0=e.catch(0),e.abrupt("return",(0,r.failureBid)(c.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(n=this.zeus.config.sspConfig)||void 0===n||null===(a=n.bidders)||void 0===a?void 0:a.pubmatic)||{},this.isTestBid=/[?&]t=1/.test(window.location.href),this.apiScript="https://ads.pubmatic.com/AdServer/js/userSync.js",this.gamId=(0,r.getGAMID)(this.zeus.config),this.name="pubmatic"}var t,n,a;return t=e,a=[{key:"init",value:function(t){var n=new e(t);return n.loadApi(),n}}],(n=[{key:"api",get:function(){return window.PubMaticSync}}])&&l(t.prototype,n),a&&l(t,a),e}();t.Pubmatic=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Rubicon=void 0,n(1);var r=n(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l={1:"468x60",2:"728x90",5:"120x90",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",94:"970x310",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",229:"320x180",232:"580x400",257:"400x600"},f=function(){function e(t){var n,i,o,a,s,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o=this,a="bid",s=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,(n=c.buildSlot(t)).length){e.next=4;break}return e.abrupt("return",(0,r.successBid)(c.name,[]));case 4:return i=c.buildRequest(n),e.next=7,(0,r.fetcherJSON)(i,{timeout:c.timeout,method:"GET",credentials:"include",withCredentials:!0});case 7:return o=e.sent,c.setBidTargeting(o,n),a=n.map((function(e){return e.node})),e.abrupt("return",(0,r.successBid)(c.name,a));case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",(0,r.failureBid)(c.name,t,null===e.t0||void 0===e.t0?void 0:e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),a in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(n=this.zeus.config.sspConfig)||void 0===n||null===(i=n.bidders)||void 0===i?void 0:i.rubicon)||{},this.name="rubicon"}var t,n,a;return t=e,(n=[{key:"sortPriority",value:function(e){var t=["15","2","9"];return e.sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return r>-1||i>-1?-1===r?1:-1===i?-1:r-i:Number(e)-Number(n)}))}},{key:"convertSizesToIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.map((function(e){return"fluid"===e?"":"".concat(e[0],"x").concat(e[1])}));return Object.keys(l).filter((function(e){return t.includes(l[e])}))}},{key:"buildSlot",value:function(e){var t=this;return e.reduce((function(e,n){var r,i,a,s,u,c=(null==n||null===(r=n.sspConfig)||void 0===r||null===(i=r.rubicon)||void 0===i?void 0:i.sizeIds)||t.convertSizesToIds(null==n||null===(a=n.zeus)||void 0===a?void 0:a.currentSizes),l=null==n||null===(s=n.sspConfig)||void 0===s||null===(u=s.rubicon)||void 0===u?void 0:u.zoneId;return l&&null!=c&&c.length?[].concat(o(e),[{node:n,zoneId:l,sizeIds:t.sortPriority(c)}]):e}),[])}},{key:"buildRequest",value:function(e){var t,n,i={},o=[],a=[],s=[],u=this.zeus.config,c=u.gdprApplies,l=u.gdprConsentString,f=null===(t=this.zeus)||void 0===t||null===(n=t.liveRamp)||void 0===n?void 0:n.uid,d="//fastlane.rubiconproject.com/a/api/fastlane.json";i.account_id=this.bidderConfig.accountId,i.site_id=(0,r.getValueForBreakpoint)(this.zeus,this.bidderConfig.siteId,(0,r.getViewportSize)()),i.tk_flint=this.bidderConfig.tkFlint,i.slots=e.length;for(var p=0;p<e.length;p++){var h=e[p].sizeIds;o.push(h[0]),a.push(h.slice(1).join(",")),s.push(e[p].zoneId)}i.size_id=o.join(";"),i.alt_size_ids=a.join(";"),i.zone_id=s.join(";"),i.rp_floor=.01,this.zeus.usPrivacy&&this.zeus.usPrivacy.uspString&&(i.us_privacy=this.zeus.usPrivacy.uspString),l&&(i.gdpr=c,i.gdpr_consent=l),f&&(i.x_liverampidl=f);for(var v=Object.keys(i),g=[],m=0;m<v.length;m++)g.push("".concat(v[m],"=").concat(encodeURIComponent(i[v[m]])));return d+="?".concat(g.join("&"))}},{key:"formatAdResponse",value:function(e,t){var n;if("ok"!==(null==e?void 0:e.status))throw new Error("bad ad status ".concat(null==e?void 0:e.reason));if(null==t||null===(n=t.sizeIds)||void 0===n||!n.find((function(t){return t===(null==e?void 0:e.size_id)})))throw new Error("size mismatch ".concat(null==e?void 0:e.size_id));var r=i(l[e.size_id].split("x"),2),o=r[0],a=r[1];return{sspName:this.name,node:t.node,auctionId:"".concat(e.impression_id),creativeCode:"<script>".concat(e[e.type],"<\/script>"),width:o,height:a,price:e.cpm}}},{key:"setBidTargeting",value:function(e,t){var n,i=this;if("error"===(null==e?void 0:e.status))throw new Error(e.reason||"Unknown error");if(null==e||null===(n=e.ads)||void 0===n||!n.length)throw new Error("bid returned empty");e.ads.forEach((function(e,n){var o,a=null===(o=t[n])||void 0===o?void 0:o.node;if(null==a||!a.id)return i.zeus.warn("no slot found for response",{name:i.name});try{var s=i.formatAdResponse(e,t[n]);(0,r.setBidTargetingForNode)(s)}catch(e){(0,r.setAuctionManager)({node:a,auctionId:(0,r.generateUUID)(),sspName:i.name,error:e.message})}}))}}])&&c(t.prototype,n),a&&c(t,a),e}();t.Rubicon=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trustx=void 0,n(1);var r=n(18),i=n(0);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Trustx=function e(t){var n,a,c=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,"buildSlots",(function(e){var t=c.gamId,n=e.reduce((function(e,n){var r=n.zeus.sspConfig[c.name],o=(0,i.generateUUID)(),a=(r||{}).auid;if(!a)return e;var l=(r.sizes||(0,i.convertToOpenRtbSizes)(n.zeus.currentSizes)).filter((function(e){return e.w>=50})),f=l[0],d={id:o,tagid:"".concat(a),banner:{w:f.w,h:f.h,format:u(l)}};return t&&(d.ext=s({},(0,i.getGPID)({gamId:t,node:n}))),e.slotsToNodes[o]=n,e.slots.push(d),e}),{slots:[],slotsToNodes:{}});if(0===n.slots.length)throw new Error("No slots found with config");return n})),l(this,"buildRequest",(function(e){var t,n=c.bidderConfig.domain||window.location.host,o=(c.zeus.usPrivacy||{}).us_privacy,a=c.zeus.config,u=a.gdprApplies,l=a.gdprConsentString,f=null===(t=c.zeus.liveRamp)||void 0===t?void 0:t.uid;return s(s({id:(0,i.generateUUID)(),imp:e,site:{page:n+window.location.pathname+window.location.search+window.location.hash},tmax:c.timeout,source:{ext:{wrapper:"zeus",wrapper_version:c.zeus.version}}},(0,r.getRegs)({gdprApplies:u,gdprConsentString:l,us_privacy:o})),(0,r.getUser)({uid:f,gdprApplies:u,gdprConsentString:l}))})),l(this,"setBidTargeting",(function(e,t){try{(0,i.setBidTargetingForNode)({node:t,sspName:c.name,auctionId:e.impid,creativeCode:e.adm,width:e.w,height:e.h,price:e.price})}catch(e){(0,i.setAuctionManager)({node:t,sspName:c.name,auctionId:(0,i.generateUUID)(),error:e.message})}})),l(this,"processBidResponse",(function(e,t){if(null==e||!e.seatbid)throw new Error("No bids returned");e.seatbid.forEach((function(e){var n=e.bid.reduce((function(e,n){var r=t[n.impid].id;return(!e[r]||e[r].price<n.price)&&(e[r]=n),e}),{});Object.values(n||{}).forEach((function(e){c.setBidTargeting(e,t[e.impid])}))}))})),l(this,"bid",function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=c.buildSlots(t),r=n.slots,o=n.slotsToNodes,a=c.buildRequest(r),e.next=5,(0,i.fetcherJSON)("https://grid.bidswitch.net/hbjson?sp=trustx",{useXHR:!0,method:"POST",timeout:c.timeout,credentials:"include",withCredentials:!0,body:JSON.stringify(a)});case 5:return s=e.sent,c.processBidResponse(s,o),e.abrupt("return",(0,i.successBid)(c.name,t));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",(0,i.failureBid)(c.name,t,e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}()),this.zeus=t,this.timeout=this.zeus.general.bidTimeout,this.bidderConfig=(null===(n=this.zeus.config.sspConfig)||void 0===n||null===(a=n.bidders)||void 0===a?void 0:a.mediaGrid)||{},this.gamId=(0,i.getGAMID)(this.zeus.config),this.name="trustx"}},function(e,t,n){"use strict";(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var n=function(e){var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new S(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var f={};function d(){}function p(){}function h(){}var v={};v[o]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==n&&r.call(m,o)&&(v=m);var y=h.prototype=d.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,n){var i;this._invoke=function(o,a){function s(){return new n((function(i,s){!function i(o,a,s,u){var c=l(e[o],e,a);if("throw"!==c.type){var f=c.arg,d=f.value;return d&&"object"===t(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):n.resolve(d).then((function(e){f.value=e,s(f)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}(o,a,i,s)}))}return i=i?i.then(s,s):s()}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=y.constructor=h,h.constructor=p,p.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(w.prototype),w.prototype[a]=function(){return this},e.AsyncIterator=w,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new w(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(y),u(y,s,"Generator"),y[o]=function(){return this},y.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}("object"===t(e)?e.exports:{});try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}}).call(this,n(122)(e))},function(e,t,n){"use strict";var r=n(8),i=n(66),o=n(104),a=n(67),s=n(7),u=n(19),c=n(22),l=function(e,t){var n=this;if(!(n instanceof l))return new l(e,t);o&&(n=o(new Error(void 0),i(n))),void 0!==t&&s(n,"message",String(t));var r=[];return c(e,r.push,{that:r}),s(n,"errors",r),n};l.prototype=a(Error.prototype,{constructor:u(5,l),message:u(5,""),name:u(5,"AggregateError")}),r({global:!0},{AggregateError:l})},function(e,t,n){var r=n(9);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(11),i=n(4),o=n(58);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(15),i=n(61);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.9.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},function(e,t,n){var r=n(2);e.exports=r},function(e,t,n){var r=n(5),i=n(20),o=n(133).indexOf,a=n(63);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(64),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){var r=n(4),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},function(e,t,n){var r=n(6),i=n(138);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,o){return r(n),i(o),t?e.call(n,o):n.__proto__=o,n}}():void 0)},function(e,t,n){var r=n(10);e.exports=r("document","documentElement")},function(e,t,n){var r=n(23),i=n(107),o=n(4);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){return!Symbol.sham&&(r?38===i:i>37&&i<41)}))},function(e,t,n){var r,i,o=n(2),a=n(68),s=o.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(i=r[1]),e.exports=i&&+i},function(e,t,n){var r=n(14);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(69),i=n(56),o=n(3)("toStringTag"),a="Arguments"==i(function(){return arguments}());e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:a?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},function(e,t,n){var r=n(2);e.exports=r.Promise},function(e,t,n){var r=n(6),i=n(14),o=n(3)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[o])?t:i(n)}},function(e,t,n){var r,i,o,a=n(2),s=n(4),u=n(108),c=n(105),l=n(58),f=n(113),d=n(23),p=a.location,h=a.setImmediate,v=a.clearImmediate,g=a.process,m=a.MessageChannel,y=a.Dispatch,b=0,w={},x=function(e){if(w.hasOwnProperty(e)){var t=w[e];delete w[e],t()}},_=function(e){return function(){x(e)}},O=function(e){x(e.data)},S=function(e){a.postMessage(e+"",p.protocol+"//"+p.host)};h&&v||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return w[++b]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(b),b},v=function(e){delete w[e]},d?r=function(e){g.nextTick(_(e))}:y&&y.now?r=function(e){y.now(_(e))}:m&&!f?(o=(i=new m).port2,i.port1.onmessage=O,r=u(o.postMessage,o,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&p&&"file:"!==p.protocol&&!s(S)?(r=S,a.addEventListener("message",O,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),x(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:h,clear:v}},function(e,t,n){var r=n(68);e.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(e,t,n){var r=n(6),i=n(9),o=n(17);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(8),i=n(14),o=n(17),a=n(24),s=n(22);r({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=o.f(t),r=n.resolve,u=n.reject,c=a((function(){var n=i(t.resolve),o=[],a=0,u=1;s(e,(function(e){var i=a++,s=!1;o.push(void 0),u++,n.call(t,e).then((function(e){s||(s=!0,o[i]={status:"fulfilled",value:e},--u||r(o))}),(function(e){s||(s=!0,o[i]={status:"rejected",reason:e},--u||r(o))}))})),--u||r(o)}));return c.error&&u(c.value),n.promise}})},function(e,t,n){"use strict";var r=n(8),i=n(14),o=n(10),a=n(17),s=n(24),u=n(22);r({target:"Promise",stat:!0},{any:function(e){var t=this,n=a.f(t),r=n.resolve,c=n.reject,l=s((function(){var n=i(t.resolve),a=[],s=0,l=1,f=!1;u(e,(function(e){var i=s++,u=!1;a.push(void 0),l++,n.call(t,e).then((function(e){u||f||(f=!0,r(e))}),(function(e){u||f||(u=!0,a[i]=e,--l||c(new(o("AggregateError"))(a,"No one promise resolved")))}))})),--l||c(new(o("AggregateError"))(a,"No one promise resolved"))}));return l.error&&c(l.value),n.promise}})},function(e,t,n){"use strict";var r=n(8),i=n(158),o=n(66),a=n(104),s=n(70),u=n(7),c=n(13),l=n(3),f=n(15),d=n(16),p=n(118),h=p.IteratorPrototype,v=p.BUGGY_SAFARI_ITERATORS,g=l("iterator"),m=function(){return this};e.exports=function(e,t,n,l,p,y,b){i(n,t,l);var w,x,_,O=function(e){if(e===p&&P)return P;if(!v&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",k=!1,E=e.prototype,A=E[g]||E["@@iterator"]||p&&E[p],P=!v&&A||O(p),z="Array"==t&&E.entries||A;if(z&&(w=o(z.call(new e)),h!==Object.prototype&&w.next&&(f||o(w)===h||(a?a(w,h):"function"!=typeof w[g]&&u(w,g,m)),s(w,S,!0,!0),f&&(d[S]=m))),"values"==p&&A&&"values"!==A.name&&(k=!0,P=function(){return A.call(this)}),f&&!b||E[g]===P||u(E,g,P),d[t]=P,p)if(x={values:O("values"),keys:y?P:O("keys"),entries:O("entries")},b)for(_ in x)(v||k||!(_ in E))&&c(E,_,x[_]);else r({target:t,proto:!0,forced:v||k},x);return x}},function(e,t,n){"use strict";var r,i,o,a=n(4),s=n(66),u=n(7),c=n(5),l=n(3),f=n(15),d=l("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(i=s(s(o)))!==Object.prototype&&(r=i):p=!0);var h=null==r||a((function(){var e={};return r[d].call(e)!==e}));h&&(r={}),f&&!h||c(r,d)||u(r,d,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.defineProperty(t,"__esModule",{value:!0}),t.getBreakpointsConfiguration=l,t.getViewportSize=function(e){var t=window.innerWidth,n=u.find((function(n){return p(e,{currentWidth:t},n)}));return{currentWidth:t,breakpoint:n}},t.getBoundsForBreakpointKey=d,t.isInBreakpointRange=p,t.getValueForBreakpoint=h,t.processConfigForBreakpoint=v,t.watchForBreakpointUpdates=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"breakpointOverrides";null!=t&&t.hasOwnProperty(r)&&e.on("BREAKPOINT_UPDATED",(function(i){n(v(e,t,i,r))}))},t.DEFAULT_BREAKPOINTS=t.BREAKPOINT_KEYS=void 0;var u=["xs","sm","md","lg","xl"];t.BREAKPOINT_KEYS=u;var c={xs:0,sm:540,md:720,lg:960,xl:1140};function l(e){var t;return(null==e||null===(t=e.config)||void 0===t?void 0:t.breakpoints)||c}function f(e,t){var n=l(e),r=a(t.split("-"),2),i=r[0],o=r[1],s=isNaN(i)?n[i]:parseInt(i,10),c=isNaN(o)?n[o]:parseInt(o,10);return"up"===i?(s=c,c=1/0):"down"===i&&(isNaN(o)&&(c=function(e,t){var n=u.indexOf(e),r=n<u.length-1?u[n+1]:1/0;return t[r]||r}(o,n)),s=0),{lower:s,upper:c}}function d(e,t){if(t.includes("-"))return f(e,t);var n=l(e),r=n[t],i=u.indexOf(t),o="xl"===t?1/0:u[i+1];return{lower:r,upper:n[o]||o}}function p(e,t,n){var r=d(e,n),i=r.upper,o=r.lower,a=l(e),s=void 0===t.currentWidth?a[t.breakpoint]:t.currentWidth;return o<=s&&s<i}function h(e,t,n){var r=Object.keys(t).find((function(t){return p(e,n,t)})),i=t.hasOwnProperty("default")?t.default:null;return t[r]||i}function v(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"breakpointOverrides",o=n||e.breakpoint,a={};return null!=t&&t.hasOwnProperty(r)&&(a=h(e,null==t?void 0:t[r],o)||{}),i(i({},t||{}),a)}t.DEFAULT_BREAKPOINTS=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPageTargeting=function(e){window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){var t=window.googletag.pubads();i.default.setTargetings(e,t)}))},t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r},o=n(18);function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(){return(u=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.adService={},t.adService.createSlot=function(e){if(e.adUnitPath){var n=(0,o.convertToGAMSizeAndMapping)(t,e.sizes),r=n.size,i=n.sizeMapping,a=void 0;if(window.googletag&&window.googletag.defineSlot&&window.googletag.defineOutOfPageSlot&&(a=void 0!==e.type&&"oop"===e.type?window.googletag.defineOutOfPageSlot(e.adUnitPath,e.id):window.googletag.defineSlot(e.adUnitPath,r,e.id)),a){if(i){var s=l(i);s&&a.defineSizeMapping(s)}return a.setCollapseEmptyDiv(!0,!e.refresh),a.addService(window.googletag.pubads()),a}}},t.adService.setup=function(e){try{var n,r;if(e.slot=e.slot||t.adService.createSlot(e),!e.slot)return;return e.slot.clearTargeting(),e.slot.clearCategoryExclusions(),i.default.setTargetings(e.targeting,e.slot),i.default.setCategoryExclusions(e.categoryExclusions,e.slot),null!==(n=e.zeus)&&void 0!==n&&null!==(r=n.inventoryConfig)&&void 0!==r&&r.safeFrameConfig&&e.slot.setSafeFrameConfig(e.zeus.inventoryConfig.safeFrameConfig),e}catch(n){t.warn("setup failed",{name:"AdService",err:n,node:e})}},t.adService.remove=function(e){var t=e.slot;t&&window.googletag&&window.googletag.destroySlots&&window.googletag.cmd&&(window.googletag.cmd.push((function(){return window.googletag.destroySlots([t])})),e.slot=void 0)},t.adService.render=function(e){var t=e.map((function(e){return e.slot}));window.googletag&&window.googletag.pubads&&window.googletag.pubads().refresh(t,{changeCorrelator:!1})},t.on("INIT",(function(){var e=t.config.scriptUrls,n=void 0===e?["//securepubads.g.doubleclick.net/tag/js/gpt.js"]:e;i.default.loadScripts(n),window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){var e=t.config,n=e.categoryExclusions,r=e.gdprConsent,o=e.renderInterval,a=void 0===o?50:o,s=e.general,u=s.ppid,l=s.enableVideoAd,f=window.googletag.pubads();f.disableInitialLoad(),f.enableSingleRequest(),i.default.setCategoryExclusions(n,f),u&&f.setPublisherProvidedId(u),l&&f.enableVideoAds(),void 0!==r&&f.setRequestNonPersonalizedAds(r?0:1);var d=function(e){return function(n){return t.emit(e,c(n))}};f.addEventListener("slotRenderEnded",d("SLOT_RENDER_ENDED")),f.addEventListener("slotOnload",d("SLOT_ONLOAD")),f.addEventListener("impressionViewable",d("IMPRESSION_VIEWABLE")),window.googletag.enableServices(),t.runRenderCycle(),a&&setInterval(t.runRenderCycle.bind(t),a)}))})),t.on("SLOT_RENDER_ENDED",(function(e){var t=e.element,n=e.data;n.isEmpty&&(-1===t.gamRetries||t.renderCount<=t.gamRetries)&&setTimeout((function(){t.rendered=!1,t.hasToRender=!0}),3e4),t&&n.size&&n.size[0]>1&&(t.style.width="".concat(n.size[0],"px"))})),t.on("SLOT_ONLOAD",(function(e){var n=e.element;void 0!==n.bidResponses&&Array.isArray(n.bidResponses)&&(n.bidResponses.forEach((function(e){delete t.auctionManager[e]})),n.bidResponses.length=0)})),t.on("CCPA_UPDATED",(function(e){var t=e.data;window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push((function(){window.googletag.pubads().setPrivacySettings({restrictDataProcessing:"Y"===t.uspString[2]})}))})),t.on("NODE_CONFIG_UPDATED",(function(e){var t,n=e.node,r=e.config;null!=r&&r.safeFrameConfig&&(null===(t=n.slot)||void 0===t||t.setSafeFrameConfig(r.safeFrameConfig))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){var t;if(e.slot){var n=e.slot.getSlotElementId();t=document.getElementById(n)}return{element:t,data:e}}var l=function(e){if(window.googletag&&window.googletag.sizeMapping){var t=window.googletag.sizeMapping();return Object.keys(e).forEach((function(n){t.addSize(JSON.parse(n),e[n])})),t.build()}return null},f=function(e){return u.apply(this,arguments)};t.default=f},function(e,t,n){n(94),e.exports=n(123)},function(e,t,n){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";n(124),n(167);var r,i,o=s(n(174)),a=s(n(201));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(1),n(202);var f=n(0).createZeusAdCss,d={customer:"wapo",configVersion:78,general:{bidTimeout:1e3,breakpointOverrides:{"down-sm":{initBuffer:800,refreshBuffer:100}},initBuffer:200,refreshBuffer:200,slotPrefix:"slug_",tagName:"wp-ad"},breakpoints:{xs:0,sm:480,md:767,lg:990,xl:1250},plugins:{advadrefresher:{active:!0},flexfix:{active:!1,advertiserIds:[15772018]},gdpr:{active:!0},kruxwrapper:{active:!0,kruxId:"IbWIJ0xh",namespace:"washingtonpost"},logger:{active:!0,logLevel:0},metrics:{active:!0,apiHost:"https://wapo-analytics.zeustechnology.com",bucketSize:.2},rendercount:{active:!0},zeusInsightsForPublishers:{active:!0},zeusslotkvs:{active:!0,configOverride:!1,renderType:!0,deviceType:!1}},customPlugins:{dfpnode:{dfpId:"701",active:!0},dpricefloor:{active:!0,floorUrl:"https://www.washingtonpost.com/wp-stat/ad/zeus/wapopricefloor.json",bucketAllocation:[34,33,33],platform:"desktop"},gdpr:{active:!0},inlineads:{active:!0,mobile:{defaultPos:"mob_bigbox",adSpacing:{default:{firstAdOnChar:650,minCharCount:650,minParaCount:3,totalAdCount:8}}},desktop:{defaultPos:"inline_bb",adSpacing:{default:{firstAdOnChar:800,minCharCount:800,minParaCount:3,totalAdCount:8}}},bufferSpace:100,spacingTags:"DIV,IFRAME,TABLE,BLOCKQUOTE",skipClassList:["interstitial-link","pb-f-page-newsletter-inLine","inline-content","voraciously-recipe-ingredient","voraciously-recipe-step","voraciously-recipe-nutrition"]},keepreading:{active:!1},malwareblocker:{active:!0},processor:{active:!0},urlparams:{active:!0},usp:{active:!0,uspDefault:"1NYY"},webvitals:{active:!1},zeusAudience:{active:!0,url:"https://audience.zeustechnology.com"}},keyValues:{customKeyvalues:!0,exclusionsKeyWords:{natural_disaster:["deepwater","oil spill","shell","exxon","citgo","bp","chevron","hess","sunoco","disaster","fire","explosion","oil","coal","death","dead","quake","earthquake","tsunami","tornado","hurricane","flood","bed bug","infestation","gas","tropical storm","Irma","Harvey"],human_disaster:["nazi","coronavirus","abortion","kobe","shot","fatal","fatally","homicide","blood","kill","accident","Weinstein","massacre","oreilly","Ailes","o'reilly","fox news","abuse","death","trafficking","dead","gunshot","murderer","porn","sex tape","sexting","sexual abuse","molestation","assault","child abuse","sex abuse","ISIS","ISIL","Islamic State","Al Qaeda","Syria","Syrian","Assad","shooter","shooting","migrants","aylan kurdi","refugee crisis","drown","shoot","vatican","spanair","aground","rescue","attack","disaster","explosion","war","hostage","terror","terrorist","bomb","blast","mining","miner","violence","riot","crash","9/11","sept. 11","september 11","behead","United 93","pistorius","ebola","rape","rapist","amtrak","derailment","benghazi","misconduct","illegal downloads","illegal drugs","hate speech","offensive language","bullying","epstein","chauvin","miami condo collapse","death toll","building collapse","tower collapse","Taliban"],business_disaster:["work stoppage","workers' strike","plant closures","embezzlement","embezzling","money laundering","corrupt","lawsuit","goldman","aig","foreclosure","enron","sec","mortgage","Insurance","health","bank","wall street","protest","labor strike","union strike","labor issue","union issue","teacher strike","teachers strike","election","fraud","scam","chase"],inappropriate:["porn","cunt","pussy","fuck","deepwater","gambling","sex","alcohol","pornography"]}},inventory:{interstitial:{sizes:{xs:[[1,1]]},type:"oop",skipBidding:!0,gamRetries:0},desktop_interstitial:{sizes:{"up-xs":[[1,1]]},type:"oop",skipBidding:!0,gamRetries:0},leaderboard:{sizes:{md:[[1,1],[2,1],[728,90],"fluid"],"up-lg":[[1,1],[2,1],[728,90],[970,66],[970,250],"fluid"]},keyvalues:{pos:"leaderboard"},refresh:{fixAdHeightSize:[970,250],status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},configOverrides:{"washington-post-live/climate-solutions":{dateFilters:[{start:"March 10 2020",end:"March 10 2020"}]}}},leaderboard_1:{sizes:{md:[[1,1],[2,1],[728,90],"fluid"],"up-lg":[[1,1],[2,1],[970,250],"fluid"]},refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"leaderboard_*":{sizes:{md:[[1,1],[2,1],[728,90],"fluid"],"up-lg":[[1,1],[2,1],[728,90],[970,66],[970,250],"fluid"]},refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/regional","washingtonpost.com/test","homepage","homepage/test","climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},header_logo:{sizes:{"up-xs":[[2,1],[1,2],[1,1]]},skipBidding:!0,gamRetries:0},banner_top:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},inline_bb:{sizes:{"sm-1249":[[1,1],[2,1],[1,7],[300,250],"fluid"],"up-1250":[[1,1],[2,1],[1,7],[300,250],[620,250],"fluid"]},refresh:{status:!0,exception:[]}},"inline_bb_*":{sizes:{"sm-1249":[[1,1],[2,1],[1,7],[300,250],"fluid"],"up-1250":[[1,1],[2,1],[1,7],[300,250],[620,250],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_ss_bb_hp:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_ss_bb_hp_2:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_ss_bb_hp_4:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"flex_ss_bb_hp_*":{sizes:{"up-sm":[[2,1],[336,850],[336,280],[160,600],[300,250],[300,600],[300,1050]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},flex_bb_hp:{sizes:{"up-sm":[[2,1],[336,850],[336,280],[300,600],[300,1050],[300,250]]},refresh:{status:!0}},flex_bb_hp_sm:{sizes:{"up-sm":[[2,1],[160,600],[300,600],[300,250]]},refresh:{status:!0,exception:[]}},flex_hp:{sizes:{"up-sm":[[2,1],[300,600]]},refresh:{status:!0,exception:[]}},tiffany_tile:{sizes:{"up-sm":[[2,1],[200,60],[184,90]]},keyvalues:{ad:"tiffany_tile"},skipBidding:!0,gamRetries:0},"tiffany_tile_*":{sizes:{"up-sm":[[2,1],[200,60],[184,90]]},skipBidding:!0,gamRetries:0},brandconnect_front:{sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]},skipBidding:!0,gamRetries:0},brandconnect_magnet:{sizes:{"up-xs":[[1,1],[2,1],[1,8]]},skipBidding:!0,gamRetries:0},bc_pb_homepage:{sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]},skipBidding:!0,gamRetries:0},bc_pb_regional:{sizes:{"up-xs":[[1,1],[2,1],[1,8],"fluid"]},skipBidding:!0,gamRetries:0},"336x60":{sizes:{"up-xs":[[2,1],[336,60]]},keyvalues:{ad:"336x60"},skipBidding:!0,gamRetries:0},"336x35_top":{sizes:{"up-xs":[[2,1],[336,35]]},keyvalues:{ad:"336x35"},skipBidding:!0,gamRetries:0},marketing_2:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},marketwatch:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},twittermodule:{sizes:{"up-xs":[[2,1],[1,1]]},skipBidding:!0,gamRetries:0},"88x31":{sizes:{"up-xs":[[2,1],[88,31]]},skipBidding:!0,gamRetries:0},bigbox:{sizes:{"up-xs":[[1,1],[2,1],[1,7],[300,250],"fluid"]},refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/test","homepage","homepage/test"]}},"bigbox_*":{sizes:{"up-xs":[[1,1],[2,1],[1,7],[300,250],"fluid"]},refresh:{status:!0,exception:["washingtonpost.com","washingtonpost.com/test","homepage","homepage/test"]}},bigbox_stay:{sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]},refresh:{status:!0,exception:[]}},bigbox_eat:{sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]},refresh:{status:!0,exception:[]}},bigbox_do:{sizes:{"up-xs":[[1,1],[2,1],[300,250],"fluid"]},refresh:{status:!0,exception:[]}},bigbox_gallery:{sizes:{"up-xs":[[1,1],[2,1],[300,250]]}},bs_btw:{sizes:{"up-xs":[[2,1],[1,1],"fluid"]},skipBidding:!0,gamRetries:0},bs_card_front:{sizes:{"up-xs":[[2,1],[1,1],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},skipBidding:!0,gamRetries:0},"bs_card_front_*":{sizes:{"up-xs":[[2,1],[1,1],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]},skipBidding:!0,gamRetries:0},enterprise:{sizes:{"0-639":[[2,1],[1,1],[300,250],"fluid"],"640-989":[[2,1],[1,1],[620,250],[300,250],"fluid"],"up-990":[[2,1],[1,1],[620,250],[300,250],[970,250],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"enterprise_*":{sizes:{"0-639":[[2,1],[1,1],[300,250],"fluid"],"640-989":[[2,1],[1,1],[620,250],[300,250],"fluid"],"up-990":[[2,1],[1,1],[620,250],[300,250],[970,250],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_enterprise:{sizes:{"down-sm":[[2,1],[1,1],[300,250],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"mob_enterprise_*":{sizes:{"down-sm":[[2,1],[1,1],[300,250],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_bigbox:{sizes:{"down-sm":[[300,600]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"mob_bigbox_*":{sizes:{"down-sm":[[300,250],[1,1]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},fixedBottom:{sizes:{"down-sm":[[2,1],[320,50],[300,50]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},bc_bigbox:{sizes:{"up-xs":[[1,1],[2,1],[300,250]]},skipBidding:!0,gamRetries:0},graphic_inline:{sizes:{"up-sm":[[1,1],[300,250],[300,600],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"graphic_inline_*":{sizes:{"up-sm":[[1,1],[300,250],[300,600],"fluid"]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_graphic_inline:{sizes:{"down-sm":[[1,1],[300,250],[300,600]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},"mob_graphic_inline_*":{sizes:{"down-sm":[[1,1],[300,250],[300,600]]},refresh:{status:!0,exception:["climate-environment/climate-solutions","climate-environment/climate-solutions/front"]}},mob_lb:{sizes:{"down-sm":[[2,1],[300,50],[320,50],"fluid"]},refresh:{status:!0}},"mob_lb_*":{sizes:{"down-sm":[[2,1],[300,50],[320,50],"fluid"]},refresh:{status:!0}},howtovote:{sizes:{"up-xs":[[1,1],[320,105],"fluid"]},skipBidding:!0,gamRetries:0},"seven-briefs-logo":{sizes:{"up-xs":[[1,1],[320,105],"fluid"]},skipBidding:!0,gamRetries:0}},sspConfig:{bidders:{a9:{active:!0,id:"3041"},appNexus:{active:!0,adTypes:["banner"]},criteo:{active:!0,id:1180},ias:{active:!0,id:"8221"},indexExchange:{active:!0,script:"//js-sec.indexww.com/ht/p/183960-49969200693724.js"},openx:{active:!0,domain:"//washingtonpost-d.openx.net/w/1.0/arj"},pubmatic:{active:!1,publisherId:"161044"},rubicon:{active:!0,accountId:12890,siteId:{xs:254660,"up-sm":254660},tkFlint:"wp"},trustx:{active:!0}},slots:{slug_leaderboard:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:540038581}},apnx:{default:{id:12456623}},trustx:{default:{auid:7201}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_leaderboard_1:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004067}},apnx:{default:{id:18610295}},trustx:{default:{auid:15125}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard_1"}}},slug_leaderboard_2:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004068}},apnx:{default:{id:18610296}},trustx:{default:{auid:15126}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_leaderboard_3:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004069}},apnx:{default:{id:18610297}},trustx:{default:{auid:15127}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_leaderboard_4:{rubicon:{default:{zoneId:1744626}},openx:{default:{id:541004070}},apnx:{default:{id:18610298}},trustx:{default:{auid:15128}},pubmatic:{default:{tagid:"Wapo_zeus_slug_leaderboard"}}},slug_mob_lb:{openx:{default:{id:541079788}},apnx:{default:{id:14675087}},trustx:{default:{auid:7232}},rubicon:{default:{zoneId:1953634}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_lb"}}},slug_inline_bb:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038591}},apnx:{default:{id:12456622}},trustx:{default:{auid:7202}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_2:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038592}},apnx:{default:{id:12456638}},trustx:{default:{auid:7203}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_3:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038593}},apnx:{default:{id:12456645}},trustx:{default:{auid:7204}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_4:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540038594}},apnx:{default:{id:12456635}},trustx:{default:{auid:7205}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_5:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205943}},apnx:{default:{id:14675069}},trustx:{default:{auid:7206}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_6:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205990}},apnx:{default:{id:14675070}},trustx:{default:{auid:7207}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_7:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205946}},apnx:{default:{id:14675072}},trustx:{default:{auid:7208}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_inline_bb_8:{rubicon:{default:{zoneId:1744624}},openx:{default:{id:540205945}},apnx:{default:{id:14675073}},trustx:{default:{auid:7209}},pubmatic:{default:{tagid:"Wapo_zeus_slug_inline_bb"}}},slug_bigbox:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004075}},apnx:{default:{id:18610299}},trustx:{default:{auid:7214}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_2:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004077}},apnx:{default:{id:18610301}},trustx:{default:{auid:7215}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_3:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004078}},apnx:{default:{id:18610302}},trustx:{default:{auid:7216}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_4:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004079}},apnx:{default:{id:18610303}},trustx:{default:{auid:7217}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_5:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004080}},apnx:{default:{id:18610304}},trustx:{default:{auid:15130}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_6:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004081}},apnx:{default:{id:18610305}},trustx:{default:{auid:15131}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_7:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004082}},apnx:{default:{id:18610306}},trustx:{default:{auid:15132}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_8:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:541004083}},apnx:{default:{id:18610307}},trustx:{default:{auid:15133}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox"}}},slug_bigbox_gallery:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:540038599}},apnx:{default:{id:12456649}},trustx:{default:{auid:7218}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_gallery"}}},slug_enterprise:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038600}},apnx:{default:{id:12456628}},trustx:{default:{auid:7219}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_2:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038601}},apnx:{default:{id:14675083}},trustx:{default:{auid:7220}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_3:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038602}},apnx:{default:{id:14675084}},trustx:{default:{auid:7221}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_4:{rubicon:{default:{zoneId:1744616}},openx:{default:{id:540038603}},apnx:{default:{id:14675086}},trustx:{default:{auid:7222}},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_5:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_6:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_7:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_enterprise_8:{rubicon:{default:{zoneId:1744616}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_enterprise"}}},slug_mob_enterprise:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_2:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_3:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_4:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_5:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_6:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_7:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_enterprise_8:{rubicon:{default:{zoneId:1953638}},openx:{},apnx:{},trustx:{},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_enterprise"}}},slug_mob_bigbox:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038604}},apnx:{default:{id:12456636}},trustx:{default:{auid:7223}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_2:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038605}},apnx:{default:{id:12456646}},trustx:{default:{auid:7224}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_3:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038606}},apnx:{default:{id:12456647}},trustx:{default:{auid:7225}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_4:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540038607}},apnx:{default:{id:12456631}},trustx:{default:{auid:7226}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_5:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205994}},apnx:{default:{id:14700918}},trustx:{default:{auid:7227}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_6:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205995}},apnx:{default:{id:14700919}},trustx:{default:{auid:7228}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_7:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205996}},apnx:{default:{id:14700920}},trustx:{default:{auid:7229}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_mob_bigbox_8:{rubicon:{default:{zoneId:1953636}},openx:{default:{id:540205998}},apnx:{default:{id:14700922}},trustx:{default:{auid:7230}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_bigbox"}}},slug_fixedBottom:{rubicon:{default:{zoneId:1744620}},openx:{default:{id:540038608}},apnx:{default:{id:12456634}},trustx:{default:{auid:7231}},pubmatic:{default:{tagid:"Wapo_zeus_slug_fixedBottom"}}},slug_bc_bigbox:{rubicon:{default:{zoneId:1744614}},openx:{default:{id:540038613}},apnx:{default:{id:12456641}},trustx:{default:{auid:7236}}},slug_flex_ss_bb_hp:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038616}},apnx:{default:{id:12456629}},trustx:{default:{auid:22823}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp"}}},slug_flex_ss_bb_hp_2:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038617}},apnx:{default:{id:12456630}},trustx:{default:{auid:22824}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp_2"}}},slug_flex_ss_bb_hp_3:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038618}},apnx:{default:{id:12456621}},trustx:{default:{auid:22825}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp"}}},slug_flex_ss_bb_hp_4:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038619}},apnx:{default:{id:14675074}},trustx:{default:{auid:22826}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_ss_bb_hp_4"}}},slug_flex_bb_hp:{rubicon:{default:{zoneId:1744622}},openx:{default:{id:540038620}},apnx:{default:{id:12456644}},trustx:{default:{auid:15667}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_bb_hp"}}},slug_flex_bb_hp_sm:{openx:{default:{id:541079773}},apnx:{default:{id:19298055}},trustx:{default:{auid:15668}},rubicon:{default:{zoneId:1744622}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_bb_hp_sm"}}},slug_flex_hp:{openx:{default:{id:541079774}},apnx:{default:{id:19298090}},trustx:{default:{auid:15669}},rubicon:{default:{zoneId:1744622}},pubmatic:{default:{tagid:"Wapo_zeus_slug_flex_hp"}}},slug_bigbox_stay:{openx:{default:{id:541079775}},apnx:{default:{id:19298112}},trustx:{default:{auid:15670}},rubicon:{default:{zoneId:1744614}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_stay"}}},slug_bigbox_eat:{openx:{default:{id:541079776}},apnx:{default:{id:19298122}},trustx:{default:{auid:15671}},rubicon:{default:{zoneId:1744614}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_eat"}}},slug_bigbox_do:{openx:{default:{id:541079777}},apnx:{default:{id:19298129}},trustx:{default:{auid:15672}},rubicon:{default:{zoneId:1744614}},pubmatic:{default:{tagid:"Wapo_zeus_slug_bigbox_do"}}},slug_graphic_inline:{openx:{default:{id:541079780}},apnx:{default:{id:19298161}},trustx:{default:{auid:15675}},rubicon:{default:{zoneId:1744624}},pubmatic:{default:{tagid:"Wapo_zeus_slug_graphic_inline"}}},slug_mob_graphic_inline:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_2:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_3:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_4:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_5:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_6:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_7:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}},slug_mob_graphic_inline_8:{openx:{},apnx:{},trustx:{},rubicon:{default:{zoneId:1953642}},pubmatic:{default:{tagid:"Wapo_zeus_slug_mob_graphic_inline"}}}}}},p=(null==d||null===(r=d.general)||void 0===r?void 0:r.tagName)||"zeus-ad",h=[],v=[],g=Object.keys(d.plugins)||[],m=void 0!==d.customPlugins&&Object.keys(d.customPlugins)||[];g.forEach((function(e){try{var t=n(203)("./".concat(e));null!=t&&t.onload&&h.push(t),null!=t&&t.init&&v.push(t)}catch(e){}})),m.forEach((function(e){try{var t=n(204)("./".concat(e));null!=t&&t.onload&&h.push(t),null!=t&&t.init&&v.push(t)}catch(e){}}));var y=m.length?c(c({},d.plugins),d.customPlugins):d.plugins,b=(Object.keys(d.sspConfig.bidders)||[]).map((function(e){try{return n(205)("./".concat(e))}catch(t){return console.error("Failed to load SSP ".concat(e),t),null}})).filter((function(e){return!!e})),w=null;if(!0===(null===(i=d.keyValues)||void 0===i?void 0:i.customKeyvalues))try{w=n(206)}catch(e){}window.zeus=function(){if(Object.keys(d.inventory).length&&d.inventory.constructor===Object){var e=new o.default(d);try{return h.forEach((function(t){e.plugins[t.name]=t.onload(e,y[t.name])})),b.forEach((function(t){if(null!=t&&t.init){var n=t.init(e);e.ssps.push(n)}})),v.forEach((function(t){if(null!=t&&t.init){var n=t.init(e,y[t.name]);e.plugins[t.name]=n}})),w&&w.hasOwnProperty("init")&&w.init(e),customElements.define(p,new a.default(e,d.dfpNode)),f(p),e.emit("INIT"),e}catch(t){e.error("init failed",{name:"zeus",err:t})}}else console.error("No Config file was supplied.")}()},function(e,t,n){var r=n(125);n(163),n(164),n(165),n(166),e.exports=r},function(e,t,n){n(95),n(145),n(147),n(115),n(116),n(155),n(156),n(159);var r=n(100);e.exports=r.Promise},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":r(window))&&(i=window)}e.exports=i},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(4),i=n(56),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(2),i=n(60),o=r.WeakMap;e.exports="function"==typeof o&&/native code/.test(i(o))},function(e,t,n){var r=n(5),i=n(131),o=n(55),a=n(12);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},function(e,t,n){var r=n(10),i=n(132),o=n(135),a=n(6);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=o.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(101),i=n(65).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(20),i=n(102),o=n(134),a=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},function(e,t,n){var r=n(64),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(57);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(4);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},function(e,t,n){var r=n(9);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},function(e,t,n){var r=n(11),i=n(12),o=n(6),a=n(140);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,u=0;s>u;)i.f(e,n=r[u++],t[n]);return e}},function(e,t,n){var r=n(101),i=n(65);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(3),i=n(16),o=r("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[o]===e)}},function(e,t,n){var r=n(106);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(e,t,n){var r=n(109),i=n(16),o=n(3)("iterator");e.exports=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(6);e.exports=function(e){var t=e.return;if(void 0!==t)return r(t.call(e)).value}},function(e,t,n){var r=n(69),i=n(13),o=n(146);r||i(Object.prototype,"toString",o,{unsafe:!0})},function(e,t,n){"use strict";var r=n(69),i=n(109);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(e,t,n){"use strict";var r,i,o,a,s=n(8),u=n(15),c=n(2),l=n(10),f=n(110),d=n(13),p=n(148),h=n(70),v=n(149),g=n(9),m=n(14),y=n(150),b=n(60),w=n(22),x=n(151),_=n(111),O=n(112).set,S=n(152),k=n(114),E=n(154),A=n(17),P=n(24),z=n(21),j=n(103),C=n(3),T=n(23),I=n(107),R=C("species"),M="Promise",D=z.get,N=z.set,L=z.getterFor(M),B=f,U=c.TypeError,F=c.document,V=c.process,H=l("fetch"),K=A.f,W=K,G=!!(F&&F.createEvent&&c.dispatchEvent),q="function"==typeof PromiseRejectionEvent,Y=j(M,(function(){if(!(b(B)!==String(B))){if(66===I)return!0;if(!T&&!q)return!0}if(u&&!B.prototype.finally)return!0;if(I>=51&&/native code/.test(B))return!1;var e=B.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[R]=t,!(e.then((function(){}))instanceof t)})),J=Y||!x((function(e){B.all(e).catch((function(){}))})),Z=function(e){var t;return!(!g(e)||"function"!=typeof(t=e.then))&&t},$=function(e,t){if(!e.notified){e.notified=!0;var n=e.reactions;S((function(){for(var r=e.value,i=1==e.state,o=0;n.length>o;){var a,s,u,c=n[o++],l=i?c.ok:c.fail,f=c.resolve,d=c.reject,p=c.domain;try{l?(i||(2===e.rejection&&te(e),e.rejection=1),!0===l?a=r:(p&&p.enter(),a=l(r),p&&(p.exit(),u=!0)),a===c.promise?d(U("Promise-chain cycle")):(s=Z(a))?s.call(a,f,d):f(a)):d(r)}catch(e){p&&!u&&p.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Q(e)}))}},X=function(e,t,n){var r,i;G?((r=F.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),c.dispatchEvent(r)):r={promise:t,reason:n},!q&&(i=c["on"+e])?i(r):"unhandledrejection"===e&&E("Unhandled promise rejection",n)},Q=function(e){O.call(c,(function(){var t,n=e.facade,r=e.value;if(ee(e)&&(t=P((function(){T?V.emit("unhandledRejection",r,n):X("unhandledrejection",n,r)})),e.rejection=T||ee(e)?2:1,t.error))throw t.value}))},ee=function(e){return 1!==e.rejection&&!e.parent},te=function(e){O.call(c,(function(){var t=e.facade;T?V.emit("rejectionHandled",t):X("rejectionhandled",t,e.value)}))},ne=function(e,t,n){return function(r){e(t,r,n)}},re=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,$(e,!0))},ie=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw U("Promise can't be resolved itself");var r=Z(t);r?S((function(){var n={done:!1};try{r.call(t,ne(ie,n,e),ne(re,n,e))}catch(t){re(n,t,e)}})):(e.value=t,e.state=1,$(e,!1))}catch(t){re({done:!1},t,e)}}};Y&&(B=function(e){y(this,B,M),m(e),r.call(this);var t=D(this);try{e(ne(ie,t),ne(re,t))}catch(e){re(t,e)}},(r=function(e){N(this,{type:M,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(B.prototype,{then:function(e,t){var n=L(this),r=K(_(this,B));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=T?V.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&$(n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=D(e);this.promise=e,this.resolve=ne(ie,t),this.reject=ne(re,t)},A.f=K=function(e){return e===B||e===o?new i(e):W(e)},u||"function"!=typeof f||(a=f.prototype.then,d(f.prototype,"then",(function(e,t){var n=this;return new B((function(e,t){a.call(n,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof H&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return k(B,H.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:Y},{Promise:B}),h(B,M,!1,!0),v(M),o=l(M),s({target:M,stat:!0,forced:Y},{reject:function(e){var t=K(this);return t.reject.call(void 0,e),t.promise}}),s({target:M,stat:!0,forced:u||Y},{resolve:function(e){return k(u&&this===o?B:this,e)}}),s({target:M,stat:!0,forced:J},{all:function(e){var t=this,n=K(t),r=n.resolve,i=n.reject,o=P((function(){var n=m(t.resolve),o=[],a=0,s=1;w(e,(function(e){var u=a++,c=!1;o.push(void 0),s++,n.call(t,e).then((function(e){c||(c=!0,o[u]=e,--s||r(o))}),i)})),--s||r(o)}));return o.error&&i(o.value),n.promise},race:function(e){var t=this,n=K(t),r=n.reject,i=P((function(){var i=m(t.resolve);w(e,(function(e){i.call(t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(13);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){"use strict";var r=n(10),i=n(12),o=n(3),a=n(11),s=o("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(3)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},function(e,t,n){var r,i,o,a,s,u,c,l,f=n(2),d=n(55).f,p=n(112).set,h=n(113),v=n(153),g=n(23),m=f.MutationObserver||f.WebKitMutationObserver,y=f.document,b=f.process,w=f.Promise,x=d(f,"queueMicrotask"),_=x&&x.value;_||(r=function(){var e,t;for(g&&(e=b.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?a():o=void 0,e}}o=void 0,e&&e.enter()},h||g||v||!m||!y?w&&w.resolve?(c=w.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=g?function(){b.nextTick(r)}:function(){p.call(f,r)}:(s=!0,u=y.createTextNode(""),new m(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=_||function(e){var t={fn:e,next:void 0};o&&(o.next=t),i||(i=t,a()),o=t}},function(e,t,n){var r=n(68);e.exports=/web0s(?!.*chrome)/i.test(r)},function(e,t,n){var r=n(2);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var r=n(8),i=n(15),o=n(110),a=n(4),s=n(10),u=n(111),c=n(114),l=n(13);r({target:"Promise",proto:!0,real:!0,forced:!!o&&a((function(){o.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=u(this,s("Promise")),n="function"==typeof e;return this.then(n?function(n){return c(t,e()).then((function(){return n}))}:e,n?function(n){return c(t,e()).then((function(){throw n}))}:e)}}),i||"function"!=typeof o||o.prototype.finally||l(o.prototype,"finally",s("Promise").prototype.finally)},function(e,t,n){"use strict";var r=n(157).charAt,i=n(21),o=n(117),a=i.set,s=i.getterFor("String Iterator");o(String,"String",(function(e){a(this,{type:"String Iterator",string:String(e),index:0})}),(function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},function(e,t,n){var r=n(64),i=n(57),o=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};e.exports={codeAt:o(!1),charAt:o(!0)}},function(e,t,n){"use strict";var r=n(118).IteratorPrototype,i=n(67),o=n(19),a=n(70),s=n(16),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=u,e}},function(e,t,n){var r=n(2),i=n(160),o=n(161),a=n(7),s=n(3),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var d=r[f],p=d&&d.prototype;if(p){if(p[u]!==l)try{a(p,u,l)}catch(e){p[u]=l}if(p[c]||a(p,c,f),i[f])for(var h in o)if(p[h]!==o[h])try{a(p,h,o[h])}catch(e){p[h]=o[h]}}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){"use strict";var r=n(20),i=n(162),o=n(16),a=n(21),s=n(117),u=a.set,c=a.getterFor("Array Iterator");e.exports=s(Array,"Array",(function(e,t){u(this,{type:"Array Iterator",target:r(e),index:0,kind:t})}),(function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(e,t,n){var r=n(3),i=n(67),o=n(12),a=r("unscopables"),s=Array.prototype;null==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),e.exports=function(e){s[a][e]=!0}},function(e,t,n){n(95)},function(e,t,n){n(115)},function(e,t,n){"use strict";var r=n(8),i=n(17),o=n(24);r({target:"Promise",stat:!0},{try:function(e){var t=i.f(this),n=o(e);return(n.error?t.reject:t.resolve)(n.value),t.promise}})},function(e,t,n){n(116)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(168)),i=a(n(170)),o=a(n(172));function a(e){return e&&e.__esModule?e:{default:e}}var s=(r.default.polyfill(),i.default.polyfill(),void o.default.polyfill());t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(169))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function r(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}function i(e){var t=[];for(var n in e)t.push(e[n]);return t}function o(e){for(var t=Object.keys(e),n=Object.values(e),r=t.length,i=new Array(r);r--;)i[r]=[t[r],n[r]];return i}var a={polyfill:function(){"function"!=typeof Object.assign&&(Object.assign=r),"function"!=typeof Object.values&&(Object.values=i),"function"!=typeof Object.entries&&(Object.entries=o)},_assign:r,_values:i,_entries:o};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(171))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){"function"!=typeof Array.prototype.includes&&(Array.prototype.includes=function(e){if(null==this)throw new TypeError("'this' is null or not defined");return-1!==this.indexOf(e)})},i=function(){"function"!=typeof Array.prototype.find&&(Array.prototype.find=function(e){if(null==this)throw new TypeError("'this' is null or not defined");var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var o=t[i];if(e.call(r,o,i,t))return o;i++}})},o=function(){var e,t,n,r;"function"!=typeof Array.from&&(Array.from=(e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},n=Math.pow(2,53)-1,r=function(e){var t=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t}(e);return Math.min(Math.max(t,0),n)},function(e){var n=this,i=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,a=arguments.length>1?arguments[1]:void 0;if(void 0!==a){if(!t(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var s,u=r(i.length),c=t(n)?Object(new n(u)):new Array(u),l=0;l<u;)s=i[l],c[l]=a?void 0===o?a(s,l):a.call(o,s,l):s,l+=1;return c.length=u,c}))},a={polyfill:function(){r(),i(),o()},includes:r,find:i,from:o};t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.default}});var r,i=(r=n(173))&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){"function"!=typeof String.prototype.includes&&(String.prototype.includes=function(e,t){if(e instanceof RegExp)throw new TypeError("first argument must not be a RegExp");return void 0===t&&(t=0),-1!==this.indexOf(e,t)})},i=function(){"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e,t){var n=t>0?0|t:0;return this.substring(n,n+e.length)===e})},o={polyfill:function(){r(),i()},includes:r,startsWith:i};t.default=o},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(n(175)),o=s(n(199)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(1);var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(v,e);var t,n,r,s,u,p=d(v);function v(e){var t,n,r,s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,v),t=p.call(this),n=h(t),s=function(){t.breakpoint=a.default.getViewportSize(h(t)),t.emit("BREAKPOINT_UPDATED",t.breakpoint)},(r="onWindowResize")in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,t.name="zeus",t.config=e,t.breakpoint=a.default.getViewportSize(h(t)),t.general=a.default.processConfigForBreakpoint(h(t),e.general),t.plugins={},t.ssps=[],t.usPrivacy={uspString:void 0},t.auctionManager={},t.adNodes=[],t.executionStart=0,t.commitHash="c04dcd438788aaa51496dd8e73423d6e2e6a96cd",t.version="v2.11.0",t.debug=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t).emit.apply(e,["DEBUG"].concat(r))},t.info=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t).emit.apply(e,["INFO"].concat(r))},t.warn=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t).emit.apply(e,["WARN"].concat(r))},t.error=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t).emit.apply(e,["ERROR"].concat(r))},t.timer=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t).emit.apply(e,["TIMER"].concat(r))},(0,i.default)(h(t)),t.kvApplicator=new o.default(h(t)),t.on("INIT",(function(){t.executionStart=Date.now()})),window.addEventListener("resize",t.onWindowResize),a.default.watchForBreakpointUpdates(h(t),t.config.general||{},(function(e){t.general=e})),t}return t=v,(n=[{key:"getKeyvalues",value:function(){return this.kvApplicator.compiledKeyvalues}},{key:"writeCreative",value:function(e,t){if(e&&t){var n=this.auctionManager[t];e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=n.width,e.defaultView.frameElement.height=n.height),n.hasOwnProperty("node")&&(n.node.style.width="".concat(n.width,"px")),e.open(),e.write(n.creative),e.close()}}},{key:"setCustomKeyValue",value:function(e){a.default.isValidKeyValuePair(e)&&this.emit("ADD_KEYVALUES",e)}},{key:"checkRenderStatus",value:function(e){if("never"===e.renderBehavior)return!1;if("always"===e.renderBehavior)return!0;var t=this.general,n=t.refreshBuffer,r=t.initBuffer,i=e.zeus.inventoryConfig,o=i.refreshBuffer,s=i.initBuffer;"number"==typeof s&&(r=s),"number"==typeof o&&(n=o);var u=e.renderCount?n:r;return a.default.isElementCloseToViewport(e,u||0)}},{key:"prepareRender",value:function(){var e=this;return this.adNodes.filter((function(t){if(!t.rendered&&!t.currentlyBidding)return t.hasToRender=t.hasToRender||e.checkRenderStatus(t),t.hasToRender&&e.adService.setup(t)})).map((function(e){return Object.assign(e,{currentlyBidding:!0})}))}},{key:"bid",value:(u=c(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ccpa.collectAndSetString().catch((function(e){n.warn("CCPA string not set",{name:n.name,err:null==e?void 0:e.msg})}));case 2:return e.abrupt("return",Promise.all(this.ssps.map((function(e){return e.bid(t).catch((function(e){return e}))}))));case 3:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"render",value:function(e){try{this.info("Render the following adNodes:",e),this.adService.render(e)}catch(t){this.warn("render error",{name:this.name,err:t,elements:e})}}},{key:"afterRender",value:function(e){e.forEach((function(e){return Object.assign(e,{rendered:!0,hasToRender:!1,renderCount:(null==e?void 0:e.renderCount)+1,currentlyBidding:!1})}))}},{key:"runRenderCycle",value:(s=c(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!=(t=this.prepareRender())&&t.length){e.next=4;break}return e.abrupt("return");case 4:if(this.emit("SLOTS_WILL_RENDER",{elements:t}),!(n=t.filter((function(e){return!e.skipBidding}))).length){e.next=11;break}return e.next=9,this.bid(n);case 9:r=e.sent,this.emit("BID_COMPLETED",{elements:n,data:r});case 11:this.emit("SLOT_RENDER",{elements:t}),this.render(t),this.afterRender(t),this.emit("AFTER_SLOT_RENDER",{elements:t}),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),this.error("render cycle failed",{name:this.name,err:e.t0});case 20:case"end":return e.stop()}}),e,this,[[0,17]])}))),function(){return s.apply(this,arguments)})},{key:"reload",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=this.plugins)||void 0===e||null===(t=e.adunit)||void 0===t||t.collectCustomerAdunit(),this.kvApplicator.collectCustomerKeyvalues(),!0===n&&this.adNodes.forEach((function(e){e.renderCount=0,e.rerender()}))}}])&&l(t.prototype,n),r&&l(t,r),v}(n(200));t.default=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(176)),i=s(n(120)),o=n(197),a=n(198);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){(0,r.default)(e),(0,i.default)(e),(0,o.registerCcpa)(e),(0,a.registerTcf)(e)};t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1);var r=n(177),i=function(e){e.on("BEFORE_NODE_CONNECTED",(function(e){e.rendered|=e.hasAttribute("data-manual-render")})),e.on("NODE_CONNECTED",(function(t){var n=(0,r.setupNode)(t,e);n.success||(0,r.onFail)(e,n.error,t),e.adNodes.push(t)})),e.on("NODE_DISCONNECTED",(function(t){e.adNodes=e.adNodes.filter((function(e){return e.id!==t.id})),e.adService.remove(t)}))};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setupNode=t.processNode=t.applyConfigsForBreakpoint=t.watchForBreakpointUpdates=t.processSspConfig=t.processInventoryConfig=t.getSspConfig=t.getInventoryConfig=t.hasCustomProcessorFunction=t.onFail=void 0,n(1);var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.onFail=function(e,t,n){e.warn("".concat(t),{name:"processor",node:n}),n.rendered=!0,n.style.display="none"};var f=function(e,t){if(!0===(e&&e.config&&e.config.customPlugins&&e.config.customPlugins.processor&&e.config.customPlugins.processor.active)){var n=e&&e.plugins&&e.plugins.processor;if("object"===l(n)&&"function"==typeof n[t])return!0}return!1};t.hasCustomProcessorFunction=f;var d=function(e,t,n){if(f(n,"getInventoryConfig"))return n.plugins.processor.getInventoryConfig(e,t,n);var r=i.default.getNodePos(e.id),o=t[r]||t[i.default.getNodeKey(r)],a=e.inventoryConfig;return a&&(o=a),o||null};t.getInventoryConfig=d;var p=function(e,t,n){if(f(n,"getSspConfig"))return n.plugins.processor.getSspConfig(e,t,n);var r=i.default.getNodeKey(e.id);return(null==t?void 0:t[e.id])||(null==t?void 0:t[r])||null};t.getSspConfig=p;var h=function(e,t,n){if(f(n,"processInventoryConfig"))return n.plugins.processor.processInventoryConfig(e,t,n);var r=t;return t&&t.hasOwnProperty("configOverrides")&&null!==e.configOverride&&(r=u(u({},t),t.configOverrides[e.configOverride]||{})),r||null};t.processInventoryConfig=h;var v=function(e,t,n){if(f(n,"processSspConfig"))return n.plugins.processor.processSspConfig(e,t,n);if(!t||!t.hasOwnProperty("configOverrides"))return t;var r=t.configOverrides[e.configOverride]||{},i=Object.keys(t).filter((function(e){return"configOverrides"!==e})).reduce((function(e,n){return e[n]=u({},t[n]),e}),{});return u(u({},i),r)};t.processSspConfig=v;var g=function(e,t,n,r){var i=t.hasOwnProperty("breakpointOverrides"),o=Object.values(n||{}).some((function(e){return Object.keys(e).length&&!e.hasOwnProperty("default")}));(i||o)&&r.on("BREAKPOINT_UPDATED",(function(i){return m(e,t,n,r,i)}))};t.watchForBreakpointUpdates=g;var m=function(e,t,n,r,a){e.zeusAdConfig=i.default.processConfigForBreakpoint(r,t,a),n&&(e.sspConfig=Object.entries(n).reduce((function(e,t){var n=o(t,2),s=n[0],u=n[1];return e[s]=i.default.getValueForBreakpoint(r,u,a||r.breakpoint),e}),{}))};t.applyConfigsForBreakpoint=m;var y=function(e,t,n){var r=d(e,t.inventory,n);r=h(e,r,n);var o=p(e,t.sspConfig.slots,n);if(o=v(e,o,n),!r)return{success:!1,error:"Failed to find configuration"};if(!e.rendered&&r.dateFilters&&!i.default.getValidPeriod(Date.now(),r.dateFilters))return{success:!1,error:"Ad spot is closed"};var a=JSON.parse(JSON.stringify(r));return g(e,a,o,n),m(e,a,o,n),{success:!0}};t.processNode=y;t.setupNode=function(e,t){var n={};try{n=f(t,"processNode")?t.plugins.processor.processNode(e):y(e,t.config,t)}catch(r){t.error("setup node error",{node:e,err:r,name:"processor.setupNode"}),n.error=r.message}return n}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var i={};Object.defineProperty(t,"default",{enumerable:!0,get:function(){return o.default}});var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(179));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=t.userAgent,b=n.split("[FBAN");void 0!==b[1]&&(n=b[0]);void 0!==(b=n.split("Twitter"))[1]&&(n=b[0]);var w=function(e){return function(t){return t.test(e)}}(n),x={apple:{phone:w(r)&&!w(f),ipod:w(i),tablet:!w(r)&&(w(o)||y(t))&&!w(f),universal:w(a),device:(w(r)||w(i)||w(o)||w(a)||y(t))&&!w(f)},amazon:{phone:w(c),tablet:!w(c)&&w(l),device:w(c)||w(l)},android:{phone:!w(f)&&w(c)||!w(f)&&w(s),tablet:!w(f)&&!w(c)&&!w(s)&&(w(l)||w(u)),device:!w(f)&&(w(c)||w(l)||w(s)||w(u))||w(/\bokhttp\b/i)},windows:{phone:w(f),tablet:w(d),device:w(f)||w(d)},other:{blackberry:w(p),blackberry10:w(h),opera:w(v),firefox:w(m),chrome:w(g),device:w(p)||w(h)||w(v)||w(m)||w(g)},any:!1,phone:!1,tablet:!1};return x.any=x.apple.device||x.android.device||x.windows.device||x.other.device,x.phone=x.apple.phone||x.android.phone||x.windows.phone,x.tablet=x.apple.tablet||x.android.tablet||x.windows.tablet,x};var r=/iPhone/i,i=/iPod/i,o=/iPad/i,a=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,l=/Silk/i,f=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,h=/BB10/i,v=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,m=/Mobile(?:.+)Firefox\b/i,y=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCookie=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="".concat(document.cookie),r="".concat(e,"="),i=0,o=0;n.length>0&&-1!==(i=n.indexOf(r))&&(i+=r.length,-1===(o=n.indexOf(";",i))&&(o=n.length),t=unescape(n.substring(i,o)));return t},t.setCookie=function(e,t,n,r,i,o){document.cookie=e+"="+escape(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(o?"; secure":"")},t.areCookiesAvailable=function(){var e=!1;try{localStorage.setItem("test","test"),localStorage.removeItem("test"),e=!0}catch(t){e=!1}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pollForValues=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=e();if(null!==r)return Promise.resolve(r);return new Promise((function(r,i){var o,a;a=setInterval((function(){var t=e();null!==t&&(clearTimeout(o),clearInterval(a),r(t))}),n),o=setTimeout((function(){clearInterval(a),i("Timeout waiting for values")}),t)}))}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){var t=100*e;return t<=500?Math.round(t/1):t>500&&t<=2e3?5*Math.round(t/5):t>2e3&&t<5e3?50*Math.round(t/50):5e3}function s(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r=Array.isArray(r)?r.map((function(e){return"".concat(e)})):"".concat(r),t.setTargeting(n,r)}}function u(e){var t=e.auctionId,n=e.sspName,r=e.node,i=e.creativeCode,o=e.price,a=e.height,s=e.width,u=e.error;if(t&&null!=r&&r.bidResponses)return window.zeus.auctionManager[t]={creative:i,sspName:n,price:o,height:a,width:s,node:r,error:u,responseTimestamp:Date.now()},r.bidResponses.push(t)}function c(e,t){var n,r,i,o,a;if(!(null==e||null===(n=e.zeus)||void 0===n||null===(r=n.inventoryConfig)||void 0===r||null===(i=r.refresh)||void 0===i?void 0:i.fixAdHeight))return!1;var s=null==e||null===(o=e.zeus)||void 0===o?void 0:o.currentSizes;if((null==s?void 0:s.length)>1)return!1;var u=null==e||null===(a=e.refreshBehavior)||void 0===a?void 0:a.creativeSize;return Boolean(u&&(u[0]!=t.width||u[1]!=t.height))}function l(e){for(var t=[],n=0,r=["node","sspName","auctionId","creativeCode","width","height","price"];n<r.length;n++){var i=r[n];void 0!==e[i]&&null!==e[i]||t.push(i)}return t.length&&t[0]}function f(e){return e?{eids:[{source:"liveramp.com",uids:[{id:e}]}]}:{}}function d(e,t){return t?{gdpr:e,consent:t}:{}}function p(e){return e?{us_privacy:e}:{}}Object.defineProperty(t,"__esModule",{value:!0}),t.convertToPriceBucket=a,t.createTrackingPixelHTML=function(e){if(!e)return"";var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><img src="'.concat(t,'"></div>')},t.createTrackingPixeliFrame=function(e){if(!e)return"";try{var t=encodeURI(e);return'<div style="position:absolute;left:0px;top:0px;visibility:hidden;"><iframe id="escapedUrlFrame" src="'.concat(t,'" scrolling="no" frameborder="0" width="1" height="1"></iframe></div>')}catch(t){return console.error("Cannot encode URI ".concat(e),t),""}},t.successBid=function(e,t){return{success:!0,nodes:t,msg:"successfully received ".concat(e," data"),ssp:e,timestamp:Date.now()}},t.failureBid=function(e,t,n){return{success:!1,nodes:t,msg:n||"fetch ".concat(e," data failure"),ssp:e,timestamp:Date.now()}},t.setTargetings=s,t.setAuctionManager=u,t.setBidTargetingForNode=function(e){var t=e.node,n=e.targeting,r=void 0===n?{}:n,i=e.sspName,o=e.auctionId,f=e.price,d=l(e);if(d)throw new Error("missing target parameter ".concat(d));if(c(t,e))throw new Error("mismatch creative size");var p=a(f);return r["zeus_".concat(i)]=p,r["zeus_auctionid_".concat(i)]=o,s(r,t.slot),u(e)},t.isSkipTargeting=c,t.checkRequireParams=l,t.convertToOpenRtbSizes=function(e){return e.reduce((function(e,t){var n="fluid"===t?{w:1,h:1}:{w:t[0],h:t[1]};return e.push(n),e}),[])},t.getLiveRampExt=f,t.getGDPRExt=d,t.getRegs=function(e){var t=e.gdprApplies,n=e.gdprConsentString,r=e.usPrivacy;return n||r?{regs:{ext:i(i({},p(r)),d(t,n))}}:{}},t.getUSPrivacy=p,t.getUser=function(e){var t=e.uid,n=e.gdprApplies,r=e.gdprConsentString,o=!r;if(!t&&o)return{};var a=o?{}:d(n,r);return{user:{ext:i(i({},f(t)),a)}}},t.getGPID=function(e){var t=e.gamId,n=e.node.id;return isNaN(t)?{}:{gpid:"".concat(t,"/").concat(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(184);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToGAMSizeAndMapping=t.convertToGAMSizeMapping=t.convertToGAMSize=void 0;var r=n(119);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=function(e){if(Array.isArray(e))return e;if("object"===a(e)){var t=new Set;return Object.values(e).forEach((function(e){Array.isArray(e)&&e.forEach((function(e){Array.isArray(e)?t.add("[".concat(e,"]")):t.add(e)}))})),Array.from(t).map((function(e){return"fluid"===e?"fluid":JSON.parse(e)}))}};t.convertToGAMSize=s;var u=function(e,t){if(!Array.isArray(t)&&t)return Object.entries(t).reduce((function(t,n){var o=i(n,2),a=o[0],s=o[1],u=(0,r.getBoundsForBreakpointKey)(e,a),c=u.lower,l=u.upper;return t["[".concat(c,",0]")]=s,l===1/0||t["[".concat(l,",0]")]||(t["[".concat(l,",0]")]=[]),t}),{"[0,0]":[]})};t.convertToGAMSizeMapping=u;t.convertToGAMSizeAndMapping=function(e,t){return{size:s(t),sizeMapping:u(e,t)}}},function(e,t,n){"use strict";function r(){var e,t,n,r;return(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.head)||(null===(n=window)||void 0===n||null===(r=n.document)||void 0===r?void 0:r.getElementsByTagName("head")[0])}Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=function(e){var t=e.script,n=e.node,i=e.onload,o=e.onerror,a=n||r(),s=document.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,i&&(s.onload=i);o&&(s.onerror=o);a.appendChild(s)},t.getHeadElement=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetcherJSON=t.xhrFetcher=t.fetcher=void 0;var r,i=(r=n(187))&&r.__esModule?r:{default:r};function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(94);var s=function(e,t){var n,r=t.useXHR,o=t.timeout,s=a(t,["useXHR","timeout"]),c=r?u:i.default;return Promise.race([(n=c(e,s),n.then((function(e){return e.ok?Promise.resolve(e):Promise.reject(e)}))),new Promise((function(e,t){o&&setTimeout((function(){t(new Error("TIMEOUT"))}),o)}))])};t.fetcher=s;var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.method,r=t.headers,i=void 0===r?{}:r,o=t.body,a=t.withCredentials;return new Promise((function(t,r){var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===s.readyState){var e=s.status;e>=200&&e<300||304===e?t({xhttp:s,ok:!0}):r(s)}},s.open(n,e,!0),s.withCredentials=void 0===a||a,i["Content-Type"]||(i["Content-Type"]="text/plain"),Object.keys(i).forEach((function(e){s.setRequestHeader(e,i[e])})),o?s.send(o):s.send()}))};t.xhrFetcher=u;var c,l,f=(c=regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,n);case 3:if(r=e.sent,null==n||!n.useXHR){e.next=8;break}e.t0=JSON.parse(r.xhttp.response),e.next=11;break;case 8:return e.next=10,r.json();case 10:e.t0=e.sent;case 11:if(i=e.t0){e.next=14;break}throw new Error("Empty Response");case 14:return e.abrupt("return",i);case 17:if(e.prev=17,e.t1=e.catch(0),!(e.t1 instanceof SyntaxError)){e.next=21;break}throw new Error("Failed to parse payload");case 21:if("number"!=typeof e.t1.status){e.next=23;break}throw new Error("".concat(e.t1.status," [").concat(e.t1.statusText,"]"));case 23:throw e.t1;case 24:case"end":return e.stop()}}),e,null,[[0,17]])})),l=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=c.apply(e,t);function a(e){o(i,n,r,a,s,"next",e)}function s(e){o(i,n,r,a,s,"throw",e)}a(void 0)}))},function(e,t){return l.apply(this,arguments)});t.fetcherJSON=f},function(e,t,n){"use strict";var r=function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t}("undefined"!=typeof self?self:void 0);!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function d(e){this.map={},e instanceof d?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function v(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(v)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}d.prototype.append=function(e,t){e=c(e),t=l(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},d.prototype.delete=function(e){delete this.map[c(e)]},d.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},d.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},d.prototype.set=function(e,t){this.map[c(e)]=l(t)},d.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},d.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),f(e)},d.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},d.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),f(e)},r&&(d.prototype[Symbol.iterator]=d.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new d(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new d(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new d(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},m.call(b.prototype),m.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];x.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new d,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new x(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",u)}),s.send(void 0===a._bodyInit?null:a._bodyInit)}))}O.polyfill=!0,e.fetch||(e.fetch=O,e.Headers=d,e.Request=b,e.Response=x),t.Headers=d,t.Request=b,t.Response=x,t.fetch=O}({})}(r),delete r.fetch.polyfill,(t=r.fetch).default=r.fetch,t.fetch=r.fetch,t.Headers=r.Headers,t.Request=r.Request,t.Response=r.Response,e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"MetricsAgent",{enumerable:!0,get:function(){return r.MetricsAgent}}),Object.defineProperty(t,"MetricsSlotType",{enumerable:!0,get:function(){return r.MetricsSlotType}});var r=n(189)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAgent=t.MetricsSlotType=void 0;var r=n(18);function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d={display:"d",video:"v"};t.MetricsSlotType=d;var p=function(){function e(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l(this,e),this.name="metrics-agent",this.slots=[],this.currentSlots={},this.userDefined=[],this.maxUserMetrics=200;var o=h(window);this.pageInfo=u(u({},o),i.pageInfo),this.logger=i.logger||console,this._gdpr=!1,this._ccpa=!0,this.initTime=Date.now(),this.apiHost=t,this.updateInterval=isNaN(i.updateInterval)?6e4:i.updateInterval,this.sendEndEvent=void 0===i.sendEndEvent||i.sendEndEvent,this.excludeList=null===(n=i.excludes)||void 0===n?void 0:n.reduce((function(e,t){return u(u({},e),{},c({},t,!0))}),{}),window.addEventListener("unload",(function(){return r.handleUnload()})),setInterval((function(){return r.processMetrics()}),this.updateInterval)}var t,n,a,s,p;return t=e,(n=[{key:"checkMetric",value:function(e,t){var n;if(null===(n=this.excludeList)||void 0===n||!n[e])return c({},e,t)}},{key:"setMetrics",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).reduce((function(n,r){return u(u({},n),e.checkMetric(r,t[r]))}),{})}},{key:"gdpr",get:function(){return this._gdpr},set:function(e){this._gdpr=e}},{key:"ccpa",get:function(){return this._ccpa},set:function(e){this._ccpa=e}},{key:"getUserDefined",value:function(){var e=this.userDefined;return this.userDefined=[],e}},{key:"getSlots",value:function(){var e=this.slots;return this.slots=[],e}},{key:"addSlot",value:function(e){var t=e.id,n=e.type,r=e.renderId,i=e.renderCount,o=e.availableSizes,a=e.viewed,s=e.renderSize,u=e.loadTime,c=e.renderTimer,l=e.renderEndedTimer,f=e.advertiserId,d=e.lineItemId,p=e.ssps,h=e.timeStart;this.slots.push(this.setMetrics({ts:h-this.initTime,n:t,t:n,rid:r,st:i,sz:o,v:a,rs:s,lt:u,rt:c,ret:l,adv:f,wc:d,sp:p}))}},{key:"formatBidSlots",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{return t.reduce((function(t,n){var r=n.sspName,i=n.price,a=n.error;if(!r)return e.logger.warn("missing sspName from bids",{name:e.name}),t;var s=t[r]||{};if(!isNaN(i)){var l,f=(null===(l=t[r])||void 0===l?void 0:l.price)||[];return u(u({},t),{},c({},r,u(u({},s),{},{price:[].concat(o(f),[i])})))}if("string"==typeof a){var d,p=(null===(d=t[r])||void 0===d?void 0:d.error)||[];return u(u({},t),{},c({},r,u(u({},s),{},{error:[].concat(o(p),[a])})))}return e.logger.warn("missing price or error message from ".concat(r),{name:e.name}),t}),{})}catch(e){this.logger.warn("Error building metrics",{name:this.name,err:e})}}},{key:"formatBids",value:function(e){var t=this,n=e.slotBids,r=void 0===n?{}:n,i=e.ssps,o=void 0===i?[]:i,a=e.timeStart;try{return o.map((function(e){var n,i,o=e.ssp,s=e.timestamp,u=e.success,c=e.msg;return t.setMetrics({bn:o,bs:u,bm:"string"==typeof c?c:"",bt:a&&s&&s-a,c:(null===(n=r[o])||void 0===n?void 0:n.price)||[],be:(null===(i=r[o])||void 0===i?void 0:i.error)||[]})}))}catch(e){this.logger.warn("Error building metrics",{name:this.name,err:e})}}},{key:"updateRenderMetric",value:function(e){var t,n=(e||{}).id;n&&(this.currentSlots[n]=u(u({},this.currentSlots[n]),{},{id:n,renderTimer:Date.now()-(null===(t=this.currentSlots[n])||void 0===t?void 0:t.timeStart)}))}},{key:"updateRenderEndedMetric",value:function(e,t){var n,r=(e||{}).id,i=t||{},o=i.size,a=i.advertiserId,s=i.lineItemId,c=i.availableSizes;r&&(this.currentSlots[r]=u(u({},this.currentSlots[r]),{},{id:r,advertiserId:a,lineItemId:s,renderEndedTimer:Date.now()-(null===(n=this.currentSlots[r])||void 0===n?void 0:n.timeStart),renderSize:o,availableSizes:c}))}},{key:"updateViewableMetric",value:function(e){var t=e.id;t&&(this.currentSlots[t]=u(u({},this.currentSlots[t]),{},{id:t,viewed:!0}))}},{key:"updateLoadMetric",value:function(e){var t,n,r=(e||{}).id;r&&(this.currentSlots[r]=u(u({},this.currentSlots[r]),{},{id:r,loadTime:Date.now()-(null===(t=this.currentSlots[r])||void 0===t?void 0:t.timeStart),renderSize:(null===(n=this.currentSlots[r])||void 0===n?void 0:n.renderSize)||[null==e?void 0:e.offsetWidth,null==e?void 0:e.offsetHeight]}))}},{key:"updateBidMetrics",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=e||{},o=i.id;if(o){var a=this.formatBidSlots(r);this.currentSlots[o]=u(u({},this.currentSlots[o]),{},{id:o,ssps:this.formatBids({slotBids:a,ssps:t,timeStart:null===(n=this.currentSlots[o])||void 0===n?void 0:n.timeStart})})}}},{key:"buildSlotMetrics",value:function(e,t,n,r){var i=this;return e.reduce((function(e,o){return null!=o&&o.id?(i.currentSlots[o.id]&&i.addSlot(i.currentSlots[o.id]),u(u({},e),{},c({},o.id,{id:o.id,renderCount:o.renderCount,timeStart:r,renderId:n,type:t}))):e}),{})}},{key:"createSlotMetrics",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.display;if(Array.isArray(e)){var n=this.buildSlotMetrics(e,t,(0,r.generateUUID)(),Date.now());this.currentSlots=u(u({},this.currentSlots),n)}}},{key:"createVideoSlotMetrics",value:function(e){this.createSlotMetrics(e,d.video)}},{key:"createDisplaySlotMetrics",value:function(e){this.createSlotMetrics(e,d.display)}},{key:"pushUserDefined",value:function(e,t,n){var r;return this.userDefined.length===this.maxUserMetrics?(this.userDefined.push({ut:"ERROR",um:"max queue size reached ".concat(this.maxUserMetrics),uc:Date.now()-this.initTime,un:this.name}),!1):!(this.userDefined.length>this.maxUserMetrics||(this.userDefined.push({ut:e,um:"string"==typeof t?t:"INVALID_MESSAGE_TYPE",uc:Date.now()-this.initTime,ul:"string"==typeof(null==n?void 0:n.name)?n.name:void 0,ue:null!=n&&n.err?"".concat(null==n?void 0:n.err):void 0,un:"string"==typeof(null==n||null===(r=n.node)||void 0===r?void 0:r.id)?n.node.id:void 0}),0))}},{key:"createRequest",value:function(e){return{url:"".concat(this.apiHost,"/api/v1/events"),body:u({event:e},this.setMetrics(u({s:this.getSlots(),ud:this.getUserDefined(),gdpr:this.gdpr,ccpa:this.ccpa},this.pageInfo)))}}},{key:"processMetrics",value:(s=regeneratorRuntime.mark((function e(){var t,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=this.createRequest("slot-metrics-update"),i=n.url,(o=n.body).s.length||o.ud.length){e.next=4;break}return e.abrupt("return");case 4:if(null===(t=navigator)||void 0===t||!t.sendBeacon){e.next=6;break}return e.abrupt("return",navigator.sendBeacon(i,JSON.stringify(o)));case 6:return e.next=8,(0,r.fetcher)(i,{timeout:5e3,method:"POST",body:JSON.stringify(o)});case 8:e.next=15;break;case 10:if(e.prev=10,e.t0=e.catch(0),!(e.t0 instanceof TypeError)){e.next=14;break}return e.abrupt("return");case 14:this.logger.warn("Error sending events",{name:this.name,err:e.t0});case 15:case"end":return e.stop()}}),e,this,[[0,10]])})),p=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function a(e){i(o,n,r,a,u,"next",e)}function u(e){i(o,n,r,a,u,"throw",e)}a(void 0)}))},function(){return p.apply(this,arguments)})},{key:"handleUnload",value:function(){try{var e,t=this.sendEndEvent?"slot-metrics-end":"slot-metrics-update";for(var n in this.currentSlots)this.addSlot(this.currentSlots[n]);var r=this.createRequest(t),i=r.url,o=r.body;if(!this.sendEndEvent&&!o.s.length&&!o.ud.length)return;if(null!==(e=navigator)&&void 0!==e&&e.sendBeacon)return navigator.sendBeacon(i,JSON.stringify(o));var a=new XMLHttpRequest;a.open("POST",i,!1),a.send(JSON.stringify(o))}catch(e){}}}])&&f(t.prototype,n),a&&f(t,a),e}();function h(e){var t;return{i:(0,r.generateUUID)(),u:null==e||null===(t=e.location)||void 0===t?void 0:t.href,dv:"desktop",ct:void 0,ch:"",buc:1,vc:""}}t.MetricsAgent=p},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){var i,o=r(e);try{var a=function(){var e=i.value;n="fluid"===e?n&&t.some((function(e){return"fluid"===e})):n&&t.some((function(t){return t[0]===e[0]&&t[1]===e[1]}))};for(o.s();!(i=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;var n=!0;return n=o(e,t,n),n=o(t,e,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){try{var n=e.getBoundingClientRect();if(n.width>0||n.height>0&&"hidden"!=e.style.visibility){var r=window.innerHeight||document.documentElement.clientHeight;return n.top>=0-t&&n.top<=r+t}return!1}catch(e){return console.warn("Error getting element viewport"),!1}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?n:3&n|8).toString(16)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zeus_",n=new RegExp("^".concat(t),"gm");return e.replace(n,"")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e;try{Object.keys(t).forEach((function(e){var r=new RegExp("{{\\s*".concat(e,"\\s*}}"),"g");n=n.replace(r,t[e])}))}catch(e){console.warn("A problem occured during string template compilation.",e)}return n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.firstElementChild;return t?[t.offsetWidth,t.offsetHeight]:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e[0]===t[0]?e[1]-t[1]:e[0]<t[0]?-1:1}},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCcpa=function(e){e.ccpa=new i(e)},t.CCPA=void 0;var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t}var t,n,i;return t=e,(n=[{key:"collectAndSetString",value:function(){var e=this;return new Promise((function(t,n){if(void 0===window.__uspapi||"function"!=typeof window.__uspapi)return n({msg:"IAB __uspapi method does not exist on window."});window.__uspapi("getUSPData",1,(function(r,i){return i&&"string"==typeof(null==r?void 0:r.uspString)&&r.uspString.length>=4?(e.zeus.usPrivacy.uspString=r.uspString,console.debug("[Zeus] CCPA string set to ".concat(e.zeus.usPrivacy.uspString)),e.zeus.emit("CCPA_UPDATED",{data:r}),t(r)):n({msg:"__uspapi executed, but returned bad conditions. Success status: ".concat(i," | uspData: ").concat(JSON.stringify(r))})}))}))}}])&&r(t.prototype,n),i&&r(t,i),e}();t.CCPA=i},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.registerTcf=function(e){e.tcf=new o(e)},t.TCF=void 0;var o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"getConsentData",(function(e){var t=e.publisher,n=e.purpose;return 0!==Object.keys(t.consents).length?t.consents:0!==Object.keys(n.consents).length?n.consents:{}})),i(this,"tcfListener",(function(e,t){if(t&&("tcloaded"===e.eventStatus||"useractioncomplete"===e.eventStatus)){if(!n.zeus.config)return;var r=n.getConsentData(e),i=!!Object.keys(r).length;n.zeus.config.gdprApplies=e.gdprApplies?1:0,n.zeus.config.gdprConsent=!1===e.gdprApplies||i,n.zeus.config.gdprConsentString=e.tcString,n.zeus.config.gdprIsServiceSpecific=e.isServiceSpecific,n.zeus.info("[".concat(n.name,"] - GDPR consent data updated")),n.zeus.emit("PERSONALIZED_ADS_PERMISSION",n.zeus.config.gdprConsent)}})),this.name="TCF API",this.zeus=t,this.init()}var t,n,o;return t=e,(n=[{key:"init",value:function(){try{window.__tcfapi("addEventListener",2,this.tcfListener)}catch(e){this.zeus.warn("[".concat(this.name,"] - TCF not available"))}}}])&&r(t.prototype,n),o&&r(t,o),e}();t.TCF=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1);var r=n(0),i=n(120);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.compiledKeyvalues={zeus:"applied"},(0,r.isValidKeyValuePair)(window.zeusCustomKVPair)&&this.addKeyvalues(window.zeusCustomKVPair),this.zeus.on("ADD_KEYVALUES",(function(e){n.addKeyvalues(e)})),this.zeus.on("KVS_FETCHED",(function(e){n.addKeyvalues(Object.assign.apply(Object,a(e)))})),this.zeus.on("INIT",(function(){n.addKeyvalues({}),n.collectCustomerKeyvalues()})),this.zeus.on("RESET_KEYVALUES",(function(){return n.collectCustomerKeyvalues()}))}var t,n,s;return t=e,(n=[{key:"addKeyvalues",value:function(e){try{Array.isArray(e)?Object.assign.apply(Object,[this.compiledKeyvalues].concat(a(e.filter((function(e){return!!e&&"object"==o(e)}))))):Object.assign(this.compiledKeyvalues,e),(0,i.setPageTargeting)(this.compiledKeyvalues)}catch(e){this.zeus.warn("Error on adding keyvalues",{name:"kvApplicator",err:e})}}},{key:"collectCustomerKeyvalues",value:function(){var e=this;return(0,r.pollForValues)((function(){return(0,r.isValidKeyValuePair)(window.zeusKeyvalues)?window.zeusKeyvalues:null}),3e3,100).then((function(t){return e.addKeyvalues(Object.assign({},t))})).catch((function(t){window.hasOwnProperty("zeusKeyvalues")&&e.zeus.warn("Unexpected error in pulling customer keyvalues from the window",{name:"keyValueApplicator",err:t})}))}}])&&u(t.prototype,n),s&&u(t,s),e}();t.default=c},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0==--e._eventsCount?e._events=new o:delete e._events[t]}function c(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),c.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},c.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},c.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},c.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,r),!0;case 5:return l.fn.call(l.context,t,n,r,o),!0;case 6:return l.fn.call(l.context,t,n,r,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,r);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},c.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},c.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,c=[],l=a.length;s<l;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&c.push(a[s]);c.length?this._events[o]=1===c.length?c[0]:c:u(this,o)}return this},c.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,e.exports=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(1);var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}function h(e){var t=b();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){var t="function"==typeof Map?new Map:void 0;return(m=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,x(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)})(e)}function y(e,t,n){return(y=b()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i}).apply(null,arguments)}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(n){p(a,n);var r=h(a);function a(){var t;l(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return _(g(t=r.call.apply(r,[this].concat(o))),"slot",void 0),_(g(t),"hasToRender",0),_(g(t),"rendered",0),_(g(t),"renderCount",0),_(g(t),"currentlyBidding",!1),_(g(t),"skipBidding",!1),_(g(t),"bidResponses",[]),_(g(t),"gamRetries",-1),_(g(t),"zeus",{inventoryConfig:{},sspConfig:{},currentSizes:[]}),_(g(t),"name","nodeComponent"),_(g(t),"updateCurrentSizesForBreakpoint",(function(n){t.zeus.currentSizes=i.default.getValueForBreakpoint(e,t.zeus.inventoryConfig.sizes,n)||[],t.renderBehavior=0===t.zeus.currentSizes.length?"never":t.zeus.inventoryConfig.renderBehavior})),_(g(t),"setCurrentSizes",(function(n){e.removeListener("BREAKPOINT_UPDATED",t.updateCurrentSizesForBreakpoint),Array.isArray(n)?t.zeus.currentSizes=n:"object"===c(n)&&(e.on("BREAKPOINT_UPDATED",t.updateCurrentSizesForBreakpoint),t.zeus.currentSizes=i.default.getValueForBreakpoint(e,n,e.breakpoint)||[]),t.renderBehavior=0===t.zeus.currentSizes.length?"never":t.renderBehavior})),_(g(t),"applyKeyvalueChanges",(function(n){var r,o=n||"{}";try{o=Object.assign({},JSON.parse(o))}catch(n){return void e.error("[<zeus-ad/>]: Invalid JSON passed to 'data-keyvalues' attribute on ".concat(t.id,". ").concat(n.message),{name:"AdNodeComponent"})}t.targeting=u(u({},null===(r=t.zeus.inventoryConfig)||void 0===r?void 0:r.keyvalues),o),t.slot&&i.default.setTargetings(t.targeting,t.slot),e.emit("NODE_CONFIG_UPDATED",{node:g(t),config:t.zeusAdConfig})})),t}return d(a,[{key:"zeusAdConfig",get:function(){return{sizes:this.sizes,refresh:{status:this.refresh},type:this.type,skipBidding:this.skipBidding,renderBehavior:this.renderBehavior,keyvalues:this.targeting,gamRetries:this.gamRetries}},set:function(t){try{if(this.zeus.inventoryConfig=t,this.renderBehavior=null==t?void 0:t.renderBehavior,!t||"object"!==c(t))return;t.hasOwnProperty("sizes")?(this.setCurrentSizes(t.sizes),this.sizes=t.sizes):(e.warn("sizes object was not found",{name:this.name,node:this}),this.sizes=[],this.setCurrentSizes([])),t.hasOwnProperty("refresh")&&t.refresh.hasOwnProperty("status")&&(this.refresh=t.refresh.status),t.hasOwnProperty("gamRetries")&&(this.gamRetries=t.gamRetries),this.targeting={},"object"===c(t.keyvalues)&&(this.targeting=JSON.parse(JSON.stringify(t.keyvalues))),this.targeting=u(u({},this.targeting),this.keyvalues),this.skipBidding=!0===t.skipBidding,this.type=t.type,e.emit("NODE_CONFIG_UPDATED",{node:this,config:t})}catch(t){e.error("Set NodeConfig Error",{node:this,name:"nodeComponent.zeusAdConfig",err:t})}}},{key:"inventoryConfig",get:function(){var t=this.getAttribute("data-inventoryConfig"),n=null;if(t)try{if("object"!==c(n=JSON.parse(t)))throw new TypeError("inventoryConfig must be an object. Primitive values are not allowed. Received ".concat(n))}catch(t){n=null,e.warn("Invalid inventoryConfig found",{name:this.name,node:this,err:t})}return n}},{key:"configOverride",get:function(){var e=this.getAttribute("data-configOverride");return e||(e=this.getAttribute("data-page")),e}},{key:"keyvalues",get:function(){var t=this.getAttribute("data-keyvalues");if(t)try{var n=JSON.parse(t);if(Array.isArray(n))return Object.assign.apply(Object,o(n));if("object"===c(n))return n;throw new TypeError("keyvalues is incorrect type - Received ".concat(c(n),"."))}catch(t){e.warn("Invalid keyvalues found on slot",{name:this.name,err:t,node:this})}return{}}},{key:"isVideo",get:function(){return"video"===this.getAttribute("data-media-type")}},{key:"sspConfig",get:function(){return this.zeus.sspConfig},set:function(e){this.zeus.sspConfig=e}},{key:"adUnitPath",get:function(){return this.getAttribute("data-slot")},set:function(e){this.setAttribute("data-slot",e)}},{key:"refresh",get:function(){return"true"===this.getAttribute("data-refresh")},set:function(e){this.setAttribute("data-refresh",e||"true"===e)}},{key:"json",get:function(){var e=this.getAttribute("data-json");return e?JSON.parse(e):{}},set:function(e){this.setAttribute("data-json",JSON.stringify(e))}},{key:"targeting",get:function(){return this.json.targeting},set:function(e){var t=this.json;t.targeting=e,this.json=t}},{key:"categoryExclusions",get:function(){return this.json.categoryExclusions},set:function(e){var t=this.json;t.categoryExclusions=e,this.json=t}},{key:"renderBehavior",get:function(){return this.getAttribute("data-renderbehavior")||"lazy"},set:function(e){["lazy","always","never"].includes(e)&&(this.setAttribute("data-renderbehavior",e),this.style.display="never"===e?"none":"block"),null==e&&(this.setAttribute("data-renderbehavior","lazy"),this.style.display="block")}},{key:"connectedCallback",value:function(){if(this.isVideo)return e.emit("VIDEO_NODE_CONNECTED",this);t&&(this.adUnitPath=t),this.style.width=this.getAttribute("width"),this.style.margin="auto",this.setAttribute("aria-hidden","true"),this.renderCount=0,e.emit("BEFORE_NODE_CONNECTED",this),e.emit("NODE_CONNECTED",this),e.emit("AFTER_NODE_CONNECTED",this)}},{key:"disconnectedCallback",value:function(){if(this.isVideo)return e.emit("VIDEO_NODE_DISCONNECTED",this);e.emit("NODE_DISCONNECTED",this)}},{key:"attributeChangedCallback",value:function(t,n,r){switch(t){case"data-keyvalues":this.applyKeyvalueChanges(r);break;case"data-adunitpath":e.emit("APPLY_NODE_ADUNITPATH",r,this)}}},{key:"render",value:function(){this.rendered=!1,e.emit("ELEMENT_RENDERED",{element:this,data:null})}},{key:"rerender",value:function(){e.adService.remove(this),e.emit("NODE_CONFIG_UPDATED",{node:this,config:this.zeus.inventoryConfig}),e.adService.setup(this),this.render()}},{key:"forceRender",value:function(){this.render(),this.hasToRender=!0}},{key:"getBreakpointSize",value:function(){return this.zeus.currentSizes}}],[{key:"observedAttributes",get:function(){return["data-keyvalues","data-adunitpath"]}}]),a}(m(HTMLElement))};t.default=O},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,t){function n(){var e=E.splice(0,E.length);for(Xe=0;e.length;)e.shift().call(null,e.shift())}function i(e,t){for(var n=0,r=e.length;n<r;n++)v(e[n],t)}function o(e){return function(t){Ne(t)&&(v(t,e),ae.length&&i(t.querySelectorAll(ae),e))}}function a(e){var t=He.call(e,"is"),n=e.nodeName.toUpperCase(),r=ue.call(ie,t?te+t.toUpperCase():ee+n);return t&&-1<r&&!s(n,t)?-1:r}function s(e,t){return-1<ae.indexOf(e+'[is="'+t+'"]')}function u(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[J]||2,a=e[Z]||3;!it||i&&i!==t||!t[H]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[H](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function c(e){var t=o(e);return function(e){E.push(t,e.target),Xe&&clearTimeout(Xe),Xe=setTimeout(n,1)}}function l(e){rt&&(rt=!1,e.currentTarget.removeEventListener(X,l)),ae.length&&i((e.target||O).querySelectorAll(ae),e.detail===F?F:B),Me&&function(){for(var e,t=0,n=Le.length;t<n;t++)e=Le[t],se.contains(e)||(n--,Le.splice(t--,1),v(e,F))}()}function f(e,t){var n=this;Ge.call(n,e,t),A.call(n,{target:n})}function d(e,t,n){var r=t.apply(e,n),i=a(r);return-1<i&&I(r,oe[i]),n.pop()&&ae.length&&function(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],I(t,oe[a(t)])}(r.querySelectorAll(ae)),r}function p(e,t){Ce(e,t),j?j.observe(e,Ze):(nt&&(e.setAttribute=f,e[N]=z(e),e[L](Q,A)),e[L]($,u)),e[q]&&it&&(e.created=!0,e[q](),e.created=!1)}function h(e){throw new Error("A "+e+" type is already registered")}function v(e,t){var n,r,i=a(e);-1<i&&!Fe.call(e,"TEMPLATE")&&(T(e,oe[i]),i=0,t!==B||e[B]?t!==F||e[F]||(e[B]=!1,e[F]=!0,r="disconnected",i=1):(e[F]=!1,e[B]=!0,r="connected",i=1,Me&&ue.call(Le,e)<0&&Le.push(e)),i&&(n=e[t+U]||e[r+U])&&n.call(e))}function g(){}function m(e,t,n){var r=n&&n[V]||"",i=t.prototype,o=je(i),a=t.observedAttributes||pe,s={prototype:o};De(o,q,{value:function(){if(ke)ke=!1;else if(!this[be]){this[be]=!0,new t(this),i[q]&&i[q].call(this);var e=Ee[Pe.get(t)];(!xe||e.create.length>1)&&w(this)}}}),De(o,H,{value:function(e){-1<ue.call(a,e)&&i[H]&&i[H].apply(this,arguments)}}),i[W]&&De(o,K,{value:i[W]}),i[G]&&De(o,Y,{value:i[G]}),r&&(s[V]=r),e=e.toUpperCase(),Ee[e]={constructor:t,create:r?[r,ze(e)]:[e]},Pe.set(t,e),O[M](e.toLowerCase(),s),x(e),Ae[e].r()}function y(e){var t=Ee[e.toUpperCase()];return t&&t.constructor}function b(e){return"string"==typeof e?e:e&&e.is||""}function w(e){for(var t,n=e[H],r=n?e.attributes:pe,i=r.length;i--;)t=r[i],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function x(e){return(e=e.toUpperCase())in Ae||(Ae[e]={},Ae[e].p=new Se((function(t){Ae[e].r=t}))),Ae[e].p}function _(){we&&delete e.customElements,de(e,"customElements",{configurable:!0,value:new g}),de(e,"CustomElementRegistry",{configurable:!0,value:g});for(var t=k.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;function(t){var n=e[t];if(n){e[t]=function(e){var t,r;return e||(e=this),e[be]||(ke=!0,t=Ee[Pe.get(e.constructor)],(e=(r=xe&&1===t.create.length)?Reflect.construct(n,pe,t.constructor):O.createElement.apply(O,t.create))[be]=!0,ke=!1,r||w(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(r){!0,de(n,be,{value:e[t]})}}}(t[n]));O.createElement=function(e,t){var n=b(t);return n?Je.call(this,e,ze(n)):Je.call(this,e)},Qe||(tt=!0,O[M](""))}var O=e.document,S=e.Object,k=function(e){var t,n,r,i,o=/^[A-Z]+[a-z]/,a=function(e,t){(t=t.toLowerCase())in s||(s[e]=(s[e]||[]).concat(t),s[t]=s[t.toUpperCase()]=e)},s=(S.create||S)(null),u={};for(n in e)for(i in e[n])for(r=e[n][i],s[i]=r,t=0;t<r.length;t++)s[r[t].toLowerCase()]=s[r[t].toUpperCase()]=i;return u.get=function(e){return"string"==typeof e?s[e]||(o.test(e)?[]:""):function(e){var t,n=[];for(t in s)e.test(t)&&n.push(t);return n}(e)},u.set=function(e,t){return o.test(e)?a(e,t):a(t,e),u},u}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=r(t)&&(t={type:t||"auto"});var E,A,P,z,j,C,T,I,R,M="registerElement",D=1e5*e.Math.random()>>0,N="__"+M+D,L="addEventListener",B="attached",U="Callback",F="detached",V="extends",H="attributeChanged"+U,K=B+U,W="connected"+U,G="disconnected"+U,q="created"+U,Y=F+U,J="ADDITION",Z="REMOVAL",$="DOMAttrModified",X="DOMContentLoaded",Q="DOMSubtreeModified",ee="<",te="=",ne=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,re=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],ie=[],oe=[],ae="",se=O.documentElement,ue=ie.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ce=S.prototype,le=ce.hasOwnProperty,fe=ce.isPrototypeOf,de=S.defineProperty,pe=[],he=S.getOwnPropertyDescriptor,ve=S.getOwnPropertyNames,ge=S.getPrototypeOf,me=S.setPrototypeOf,ye=!!S.__proto__,be="__dreCEv1",we=e.customElements,xe=!/^force/.test(t.type)&&!!(we&&we.define&&we.get&&we.whenDefined),_e=S.create||S,Oe=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[ue.call(t,e)]},set:function(r,i){(e=ue.call(t,r))<0?n[t.push(r)-1]=i:n[e]=i}}},Se=e.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,i={catch:function(){return i},then:function(e){return n.push(e),r&&setTimeout(t,1),i}};return e(t),i},ke=!1,Ee=_e(null),Ae=_e(null),Pe=new Oe,ze=function(e){return e.toLowerCase()},je=S.create||function e(t){return t?(e.prototype=t,new e):this},Ce=me||(ye?function(e,t){return e.__proto__=t,e}:ve&&he?function(){function e(e,t){for(var n,r=ve(t),i=0,o=r.length;i<o;i++)n=r[i],le.call(e,n)||de(e,n,he(t,n))}return function(t,n){do{e(t,n)}while((n=ge(n))&&!fe.call(n,t));return t}}():function(e,t){for(var n in t)e[n]=t[n];return e}),Te=e.MutationObserver||e.WebKitMutationObserver,Ie=e.HTMLAnchorElement,Re=(e.HTMLElement||e.Element||e.Node).prototype,Me=!fe.call(Re,se),De=Me?function(e,t,n){return e[t]=n.value,e}:de,Ne=Me?function(e){return 1===e.nodeType}:function(e){return fe.call(Re,e)},Le=Me&&[],Be=Re.attachShadow,Ue=Re.cloneNode,Fe=Re.closest||function(e){for(var t=this;t&&t.nodeName!==e;)t=t.parentNode;return t},Ve=Re.dispatchEvent,He=Re.getAttribute,Ke=Re.hasAttribute,We=Re.removeAttribute,Ge=Re.setAttribute,qe=O.createElement,Ye=O.importNode,Je=qe,Ze=Te&&{attributes:!0,characterData:!0,attributeOldValue:!0},$e=Te||function(e){nt=!1,se.removeEventListener($,$e)},Xe=0,Qe=M in O&&!/^force-all/.test(t.type),et=!0,tt=!1,nt=!0,rt=!0,it=!0;if(Te&&((R=O.createElement("div")).innerHTML="<div><div></div></div>",new Te((function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){var n=(R=he(Re,"innerHTML"))&&R.set;n&&de(Re,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),R=null})).observe(R,{childList:!0,subtree:!0}),R.innerHTML=""),Qe||(me||ye?(T=function(e,t){fe.call(t,e)||p(e,t)},I=p):I=T=function(e,t){e[N]||(e[N]=S(!0),p(e,t))},Me?(nt=!1,function(){var e=he(Re,L),t=e.value,n=function(e){var t=new CustomEvent($,{bubbles:!0});t.attrName=e,t.prevValue=He.call(this,e),t.newValue=null,t[Z]=t.attrChange=2,We.call(this,e),Ve.call(this,t)},r=function(e,t){var n=Ke.call(this,e),r=n&&He.call(this,e),i=new CustomEvent($,{bubbles:!0});Ge.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[J]=i.attrChange=0,Ve.call(this,i)},i=function(e){var t,n=e.currentTarget,r=n[N],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],(t=new CustomEvent($,{bubbles:!0})).attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[J]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,Ve.call(n,t))};e.value=function(e,o,a){e===$&&this[H]&&this.setAttribute!==r&&(this[N]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",i)),t.call(this,e,o,a)},de(Re,L,e)}()):Te||(se[L]($,$e),se.setAttribute(N,1),se.removeAttribute(N),nt&&(A=function(e){var t,n,r,i=this;if(i===e.target){for(r in t=i[N],i[N]=n=z(i),n){if(!(r in t))return P(0,i,r,t[r],n[r],J);if(n[r]!==t[r])return P(1,i,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return P(2,i,r,t[r],n[r],Z)}},P=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,u(a)},z=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)"setAttribute"!==(n=(t=i[o]).name)&&(r[n]=t.value);return r})),O[M]=function(e,t){if(n=e.toUpperCase(),et&&(et=!1,Te?(j=function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new Te((function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)"childList"===(i=r[s]).type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,it&&o[H]&&"style"!==i.attributeName&&(a=He.call(o,i.attributeName))!==i.oldValue&&o[H](i.attributeName,i.oldValue,a))}))}(o(B),o(F)),(C=function(e){return j.observe(e,{childList:!0,subtree:!0}),e})(O),Be&&(Re.attachShadow=function(){return C(Be.apply(this,arguments))})):(E=[],O[L]("DOMNodeInserted",c(B)),O[L]("DOMNodeRemoved",c(F))),O[L](X,l),O[L]("readystatechange",l),O.importNode=function(e,t){switch(e.nodeType){case 1:return d(O,Ye,[e,!!t]);case 11:for(var n=O.createDocumentFragment(),r=e.childNodes,i=r.length,o=0;o<i;o++)n.appendChild(O.importNode(r[o],!!t));return n;default:return Ue.call(e,!!t)}},Re.cloneNode=function(e){return d(this,Ue,[!!e])}),tt)return tt=!1;if(-2<ue.call(ie,te+n)+ue.call(ie,ee+n)&&h(e),!ne.test(n)||-1<ue.call(re,n))throw new Error("The type "+e+" is invalid");var n,r,a=function(){return u?O.createElement(f,n):O.createElement(f)},s=t||ce,u=le.call(s,V),f=u?t[V].toUpperCase():n;return u&&-1<ue.call(ie,ee+f)&&h(f),r=ie.push((u?te:ee)+n)-1,ae=ae.concat(ae.length?",":"",u?f+'[is="'+e.toLowerCase()+'"]':f),a.prototype=oe[r]=le.call(s,"prototype")?s.prototype:je(Re),ae.length&&i(O.querySelectorAll(ae),B),a},O.createElement=Je=function(e,t){var n=b(t),r=n?qe.call(O,e,ze(n)):qe.call(O,e),i=""+e,o=ue.call(ie,(n?te:ee)+(n||i).toUpperCase()),a=-1<o;return n&&(r.setAttribute("is",n=n.toLowerCase()),a&&(a=s(i.toUpperCase(),n))),it=!O.createElement.innerHTMLHelper,a&&I(r,oe[o]),r}),addEventListener("beforeunload",(function(){delete O.createElement,delete O.importNode,delete O[M]}),!1),g.prototype={constructor:g,define:xe?function(e,t,n){if(n)m(e,t,n);else{var r=e.toUpperCase();Ee[r]={constructor:t,create:[r]},Pe.set(t,r),we.define(e,t)}}:m,get:xe?function(e){return we.get(e)||y(e)}:y,whenDefined:xe?function(e){return Se.race([we.whenDefined(e),x(e)])}:x},!we||/^force/.test(t.type))_();else if(!t.noBuiltIn)try{!function(t,n,r){var i=new RegExp("^<a\\s+is=('|\")"+r+"\\1></a>$");if(n[V]="a",(t.prototype=je(Ie.prototype)).constructor=t,e.customElements.define(r,t,n),!i.test(O.createElement("a",{is:r}).outerHTML)||!i.test((new t).outerHTML))throw n}((function e(){return Reflect.construct(Ie,[],e)}),{},"document-register-element-a"+D)}catch(e){_()}if(!t.noBuiltIn)try{if(qe.call(O,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){ze=function(e){return{is:e.toLowerCase()}}}}(window)},function(e,t,n){var r={"./advadrefresher":25,"./advadrefresher/":25,"./advadrefresher/AdvAdRefresher":71,"./advadrefresher/AdvAdRefresher.js":71,"./advadrefresher/index":25,"./advadrefresher/index.js":25,"./flexfix":26,"./flexfix/":26,"./flexfix/index":26,"./flexfix/index.js":26,"./gdpr":27,"./gdpr/":27,"./gdpr/index":27,"./gdpr/index.js":27,"./kruxwrapper":28,"./kruxwrapper/":28,"./kruxwrapper/KruxWrapper":72,"./kruxwrapper/KruxWrapper.js":72,"./kruxwrapper/index":28,"./kruxwrapper/index.js":28,"./logger":29,"./logger/":29,"./logger/Logger":73,"./logger/Logger.js":73,"./logger/index":29,"./logger/index.js":29,"./metrics":30,"./metrics/":30,"./metrics/Metrics":74,"./metrics/Metrics.js":74,"./metrics/index":30,"./metrics/index.js":30,"./rendercount":31,"./rendercount/":31,"./rendercount/RenderCount":75,"./rendercount/RenderCount.js":75,"./rendercount/index":31,"./rendercount/index.js":31,"./zeusInsightsForPublishers":32,"./zeusInsightsForPublishers/":32,"./zeusInsightsForPublishers/ZeusInsightsForPublishers":76,"./zeusInsightsForPublishers/ZeusInsightsForPublishers.js":76,"./zeusInsightsForPublishers/index":32,"./zeusInsightsForPublishers/index.js":32,"./zeusslotkvs":33,"./zeusslotkvs/":33,"./zeusslotkvs/ZeusSlotKvs":77,"./zeusslotkvs/ZeusSlotKvs.js":77,"./zeusslotkvs/index":33,"./zeusslotkvs/index.js":33};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=203},function(e,t,n){var r={"./adrefresher":34,"./adrefresher/":34,"./adrefresher/AdRefresher":78,"./adrefresher/AdRefresher.js":78,"./adrefresher/index":34,"./adrefresher/index.js":34,"./brandmetric":35,"./brandmetric/":35,"./brandmetric/index":35,"./brandmetric/index.js":35,"./dfpnode":36,"./dfpnode/":36,"./dfpnode/Dfpnode":79,"./dfpnode/Dfpnode.js":79,"./dfpnode/index":36,"./dfpnode/index.js":36,"./gdpr":37,"./gdpr/":37,"./gdpr/index":37,"./gdpr/index.js":37,"./inlineads":38,"./inlineads/":38,"./inlineads/Inlineads":80,"./inlineads/Inlineads.js":80,"./inlineads/index":38,"./inlineads/index.js":38,"./keepreading":39,"./keepreading/":39,"./keepreading/KeepReading":81,"./keepreading/KeepReading.js":81,"./keepreading/index":39,"./keepreading/index.js":39,"./malwareblocker":40,"./malwareblocker/":40,"./malwareblocker/index":40,"./malwareblocker/index.js":40,"./processor":41,"./processor/":41,"./processor/Processor":82,"./processor/Processor.js":82,"./processor/index":41,"./processor/index.js":41,"./urlparams":42,"./urlparams/":42,"./urlparams/UrlParams":83,"./urlparams/UrlParams.js":83,"./urlparams/index":42,"./urlparams/index.js":42,"./usp":43,"./usp/":43,"./usp/index":43,"./usp/index.js":43,"./webvitals":44,"./webvitals/":44,"./webvitals/WebVitals":84,"./webvitals/WebVitals.js":84,"./webvitals/index":44,"./webvitals/index.js":44,"./zeusAudience":45,"./zeusAudience/":45,"./zeusAudience/ZeusAudience":85,"./zeusAudience/ZeusAudience.js":85,"./zeusAudience/index":45,"./zeusAudience/index.js":45};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=204},function(e,t,n){var r={"./a9":46,"./a9/":46,"./a9/index":46,"./a9/index.js":46,"./appNexus":47,"./appNexus/":47,"./appNexus/AppNexus":86,"./appNexus/AppNexus.js":86,"./appNexus/index":47,"./appNexus/index.js":47,"./criteo":48,"./criteo/":48,"./criteo/Criteo":87,"./criteo/Criteo.js":87,"./criteo/index":48,"./criteo/index.js":48,"./ias":49,"./ias/":49,"./ias/IAS":88,"./ias/IAS.js":88,"./ias/index":49,"./ias/index.js":49,"./indexExchange":50,"./indexExchange/":50,"./indexExchange/IndexExchange":89,"./indexExchange/IndexExchange.js":89,"./indexExchange/index":50,"./indexExchange/index.js":50,"./openx":51,"./openx/":51,"./openx/Openx":90,"./openx/Openx.js":90,"./openx/index":51,"./openx/index.js":51,"./pubmatic":52,"./pubmatic/":52,"./pubmatic/Pubmatic":91,"./pubmatic/Pubmatic.js":91,"./pubmatic/index":52,"./pubmatic/index.js":52,"./rubicon":53,"./rubicon/":53,"./rubicon/Rubicon":92,"./rubicon/Rubicon.js":92,"./rubicon/index":53,"./rubicon/index.js":53,"./trustx":54,"./trustx/":54,"./trustx/Trustx":93,"./trustx/Trustx.js":93,"./trustx/index":54,"./trustx/index.js":54};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=205},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomKvGenerator=t.init=void 0;var r=a(n(0)),i=a(n(207)),o=a(n(208));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=t,this.url=window.location.href,this.slotKvs={},this.setTargetingOnConnectedNodes(),this.keyvalues={},this.runKeyValueFunctions()}var t,n,a;return t=e,(n=[{key:"runKeyValueFunctions",value:function(){var e=this;try{var t=function(){e.zeus.emit("ADD_KEYVALUES",e.keyvalues)},n=window.wp_meta_data||window.wpAdFusion?window.wp_meta_data||window.wpAdFusion:{},r=new i.default(n,this.url,this.zeus).init(t),o=r.keyValues,a=r.categoryExclusions;this.keyvalues=o,this.zeus.config.categoryExclusions=a,t()}catch(e){this.zeus.error("set page kv",{name:"pageKv",err:e})}}},{key:"genKvFromUrl",value:function(e,t,n,i){var o=r.default.urlCheck(e,t,n);o&&(this.keyvalues[i||t]=o)}},{key:"setTargetingOnConnectedNodes",value:function(){var e=this;try{this.slotKvs=o.default.init(this.zeus.config),this.zeus.on("NODE_CONFIG_UPDATED",(function(t){var n=t.node;return e._setTargeting(n)})),this.zeus.on("AFTER_SLOT_RENDER",(function(t){var n=t.elements;return null==n?void 0:n.forEach((function(t){return e._setTargeting(t)}))}))}catch(e){this.zeus.error("set slot kv",{name:"slotKv",err:e})}}},{key:"_setTargeting",value:function(e){try{var t,n,r=(null===(t=this.zeus.config)||void 0===t||null===(n=t.general)||void 0===n?void 0:n.slotPrefix)||"slug_",i=new RegExp("^".concat(r),"gm"),o=e.id.replace(i,""),a=this._getSlotConfig(o),s=e.targeting||{},c=e.renderCount>0;a.keyvalues&&a.keyvalues.pos||(s.pos=o),e.json={targeting:u(u(u(u(u(u(u({},s),this.slotKvs.setCtr({zeus:this.zeus,targeting:s,isRefreshed:c})),this.slotKvs.setSafety({targeting:s})),this.slotKvs.setRefresh({isRefreshed:c})),this.slotKvs.setKw()),this.slotKvs.setRefreshCount({pos:o,renderCount:e.renderCount})),this.slotKvs.setPwt({pos:o,isRefreshed:c}))}}catch(e){this.zeus.error("set slot kv",{name:"slotKv._setTargeting",err:e})}}},{key:"_getSlotConfig",value:function(e){return this.zeus.config.inventory[e]||this.zeus.config.inventory[r.default.getNodeKey(e)]}}])&&l(t.prototype,n),a&&l(t,a),e}();t.CustomKvGenerator=f;t.init=function(e){return new f(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(0))&&r.__esModule?r:{default:r};function o(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.zeus=r,this.config=this.zeus.config,this.exclusionsKeyWords=this.config.keyValues.exclusionsKeyWords,this.keyValues={},this.metaData=t,this.url=n,this.wpAdParams=this.config.wpAdParams,this.categoryExclusions=[],this.commercialNode=i.default.safeGet(this.wpAdParams,"commercialNode"),this.zeusAudience=i.default.isStorageAvailable()&&JSON.parse(localStorage.getItem("zeus_audience")||"{}");var o=!!i.default.isStorageAvailable()&&localStorage.getItem("zeus_insights_session");this.zeus_insights_session=o?JSON.parse(o):{}}var t,n,r,s,u;return t=e,(n=[{key:"itid_temp",value:function(){var e=i.default.safeGet(window,"google_tag_manager.GTM-WHNNX8B"),t=e?e.dataLayer.get("itid"):i.default.urlCheck(this.url,"itid","variable");t&&"(not set)"!=t&&(this.keyValues.itid_temp=t)}},{key:"itid",value:function(){var e=i.default.urlCheck(this.url,"itid","variable");e&&(this.keyValues.itid=e)}},{key:"itidr",value:function(){var e=i.default.urlCheck(this.url,"itidr","variable");e&&(this.keyValues.itidr=e)}},{key:"j_tid",value:function(){var e=(window.j_tid?window.j_tid.toString():window.btoa(Date.now().toString()).replace(/=/gi,"")).toLowerCase(),t=i.default.safeGet(window,"google_tag_manager.GTM-WHNNX8B");this.keyValues.j_tid=e,window.j_tid=e,t&&window.dataLayer&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({j_tid:e}))}},{key:"j_ucid",value:function(){var e;window.dataLayer=window.dataLayer||[];var t=(null===(e=window.dataLayer.find((function(e){return e.j_ucid})))||void 0===e?void 0:e.j_ucid)||localStorage.getItem("uuid");t||(t=i.default.generateUUID(),localStorage.setItem("uuid",t));var n=t.toString().toLowerCase();this.keyValues.j_ucid=n,window.dataLayer.push({j_ucid:n})}},{key:"j_cid",value:function(e){var t=this;window.ga=window.ga||function(){window.ga.q=window.ga.q||[],window.ga.q.push(arguments)},window.ga.l=+new Date,window.ga("create","UA-XXXXX-Y","auto"),window.ga((function(n){var r=n.get("clientId");t.keyValues.j_cid=r,e()}))}},{key:"fLoC",value:(s=regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(document.interestCohort){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,document.interestCohort();case 5:n=e.sent,r=n.id,this.keyValues.floc_t=r,t(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),this.zeus.error("Can not find interestCohort",{err:e.t0});case 14:case"end":return e.stop()}}),e,this,[[2,11]])})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var i=s.apply(e,t);function o(e){c(i,n,r,o,a,"next",e)}function a(e){c(i,n,r,o,a,"throw",e)}o(void 0)}))},function(e){return u.apply(this,arguments)})},{key:"sub",value:function(){var e=i.default.getCookie("wapo_actmgmt");this.keyValues.sub=e&&e.indexOf("isub:1")>-1?"yes":e.indexOf("S:T")>-1?"terminated":"no"}},{key:"WPATC",value:function(){var e=this,t=i.default.getCookie("WPATC"),n=t?unescape(t).split(":"):void 0;n&&n.forEach((function(t){var n=a(t.split("="),2),r=n[0],i=n[1];i&&e.keyValues[r]?e.keyValues[r].push(i):i&&!e.keyValues[r]&&(e.keyValues[r]=[i])}))}},{key:"crd",value:function(){var e=this,t=function(t){var n=e.keyValues.wp_ref;if(t){var r={facebook:new RegExp(/facebook\.com/g),twitter:new RegExp(/\/t\.co|twitter.com/g),instagram:new RegExp(/instagram\.com|linkin\.bio/g),linkedin:new RegExp(/linkedin\.com/g)};for(var i in r)r[i].test(t)&&(n=[i])}e.keyValues.crd=n};this.zeus_insights_session.original_referrer?t(this.zeus_insights_session.original_referrer):t("".concat(document.referrer))}},{key:"wp_ref",value:function(){if(this.zeus_insights_session.original_referrer_group)this.keyValues.wp_ref=[this.zeus_insights_session.original_referrer_group];else{var e="".concat(document.referrer),t=[],n={social:new RegExp(/facebook\.com|digg\.com|\/t\.co|reddit\.com|newstrust\.net|twitter\.com|linkedin\.com|instagram\.com|snapchat|tumblr\.com|linkin\.bio/i),search:new RegExp(/google\.com|bing\.com|yahoo\.com|duckduckgo\.com|search\.aol\.com/),news:new RegExp(/ampproject\.org|alert|msn\.com|pocket|smartnews|apple/i),app:new RegExp(/nativeapp\.toutiao\.com|flipboard\.com|newsbreakapp\.com|viber/i),fbnotify:new RegExp(/notify\.co/i)};for(var r in n)n[r].test(e)&&t.push(r);document.referrer||t.push("direct"),i.default.safeGet(window,"location.search","").match("wpisrc=")&&t.push("email"),t.length&&(this.keyValues.wp_ref=t)}}},{key:"embed_domain",value:function(){var e=(this.url!=i.default.safeGet(window,"parent.location.href")?document.referrer:document.location.href).match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);if(!(e.length<=2)){var t=e[2];if(null!=t){var n=t,r=t.split(".").reverse();n=null!=r&&r.length>1?"".concat(r[1],".").concat(r[0]):n,n=-1!=t.toLowerCase().indexOf(".co.uk")&&r.length>2?"".concat(r[2],".").concat(n):n,this.keyValues.embed_domain=n}else this.keyValues.embed_domain=t}}},{key:"wp_fusion",value:function(){this.keyValues.wp_fusion=window.wpAdFusion?"1":"0"}},{key:"addSegmentsToAux",value:function(e){var t=localStorage.getItem("usersegmentsAdops"),n=t?JSON.parse(t):{};for(var r in n)1===n[r]&&e.push(r)}},{key:"getAuxMap",value:function(){var e;return Array.isArray(null===(e=this.zeusAudience)||void 0===e?void 0:e.ca)?this.zeusAudience.ca:localStorage.getItem("clavis.targeting")?JSON.parse(localStorage.getItem("clavis.targeting")).aux_map:localStorage.getItem("targeting_aux_map")?localStorage.getItem("targeting_aux_map").split(","):void 0}},{key:"ca",value:function(){if(i.default.isStorageAvailable()){var e=this.getAuxMap()||[],t=i.default.safeGet(this.metaData,"clavis.auxiliaries",[]),n=[].concat(o(e.map((function(e){return e.toString().toLocaleLowerCase()}))),o(t.map((function(e){return e.toString().toLocaleLowerCase()}))));this.addSegmentsToAux(n),n.length&&(this.keyValues.ca="true,".concat(n))}}},{key:"audienceKeys",value:function(){var e,t=this;if(i.default.isStorageAvailable()){var n=null!==(e=this.zeusAudience)&&void 0!==e&&e.active_keys?this.zeusAudience.active_keys:["nl","ae"];Array.isArray(n)&&n.forEach((function(e){"ca"!=e&&Array.isArray(t.zeusAudience[e])&&(t.keyValues[e]=t.zeusAudience[e])}))}}},{key:"ct",value:function(){var e,t,n;null!==(e=this.metaData)&&void 0!==e&&null!==(t=e.clavis)&&void 0!==t&&null!==(n=t.ct)&&void 0!==n&&n.length&&(this.keyValues.ct="true,".concat(this.metaData.clavis.ct))}},{key:"hl",value:function(){(/post-opinion/.test(this.commercialNode)||/podcasts\/el-washington-post-podcast/.test(this.commercialNode))&&(this.keyValues.hl="es")}},{key:"wpnode",value:function(){this.metaData&&this.commercialNode&&(this.keyValues.wpnode=this.commercialNode)}},{key:"page",value:function(){var e=i.default.safeGet(this.metaData,"contentType");e&&(this.keyValues.page=e.toString().toLowerCase())}},{key:"pageId",value:function(){var e=i.default.safeGet(this.metaData,"page_id"),t=i.default.safeGet(this.metaData,"pageId"),n=e||t;n&&(this.keyValues.pageId=n)}},{key:"wp_pub_date",value:function(){var e=i.default.safeGet(this.metaData,"meta_date",[]),t=i.default.safeGet(this.metaData,"firstPubDate"),n=t?new Date(t).getTime():void 0,r=e.length?1e3*e[0]:n;if(r){var o=((new Date).getTime()-r)/864e5;o>90||(this.keyValues.wp_pub_date=[],o<=2&&this.keyValues.wp_pub_date.push(2),o<=7&&this.keyValues.wp_pub_date.push(7),o<=30&&this.keyValues.wp_pub_date.push(30),o<=90&&this.keyValues.wp_pub_date.push(90))}}},{key:"author",value:function(){var e=i.default.safeGet(this.metaData,"author");if(e){var t="string"==typeof e||e instanceof String?e.split(" "):e,n=t.length?t.map((function(e){return e.replace(/[^\w\s]/gi,"").replace(/\s/g,"_").toLowerCase()})):[];this.keyValues.author=n}}},{key:"spon_con",value:function(){var e=i.default.urlCheck(this.url,"spon_con","variable"),t=e?[e]:[];i.default.safeGet(this.metaData,"tags_for_paywall_subs",null),this.keyValues.spon_con=t}},{key:"wp_tag",value:function(){var e=i.default.safeGet(this.metaData,"tags"),t=e||[],n=t.length?t.map((function(e){return e.toString().replace(/\s/g,"").toLowerCase()})):[];n.length&&(this.keyValues.wp_tag=n)}},{key:"wp_tab",value:function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e>=748&&e<=989?this.keyValues.wp_tab="748-989":e>=990&&e<=1339?this.keyValues.wp_tab="990plus":e>=1340&&(this.keyValues.wp_tab="1340plus")}},{key:"exclusions",value:function(){var e,t=this,n=i.default.safeGet(this.metaData,"contentType"),r="MediaGallery"===n,a="VideoStory"===n,s=new RegExp(/washingtonpost\.com|homepage|personalpost|obituaries|weather|jobs\/search/);if((r||a)&&this.categoryExclusions.push("media"),(s.test(this.commercialNode)||a)&&this.categoryExclusions.push("intrusive"),"front"!==n){var u=[].concat(o(i.default.safeGet(this.metaData,"keywords",[])),o(i.default.safeGet(this.metaData,"clavis.keywords",[]))).join(","),c=function(){var n=t.exclusionsKeyWords[e]instanceof Array?t.exclusionsKeyWords[e]:[t.exclusionsKeyWords[e]],r=[];n.forEach((function(e){r.push(e+"(|s|es|ed|ing|er)")}));var i="\\b".concat(r.join("\\b|\\b"),"\\b");new RegExp(i,"i").test(u)&&t.categoryExclusions.push(e)};for(e in this.exclusionsKeyWords)c()}}},{key:"setEmailSpon",value:function(){var e=i.default.urlCheck(this.url,"wpisrc","variable");this.keyValues.email_spon=e?"".concat(e,",1"):null}},{key:"setGDPR",value:function(){if(void 0!==this.config.gdprConsent){var e=i.default.getCookie("wp_gdpr");this.keyValues.wp_gdpr="1|1"!==e?this.config.gdprConsent?"consent":"non_consent":"consent"}}},{key:"setPcr",value:function(){var e=this;this.keyValues.pcr="n_e";try{navigator.globalPrivacyControl&&(this.keyValues.pcr="y_e");var t=function(t){var n=(navigator||{}).globalPrivacyControl;"CA"===(t||{}).geoState&&(e.keyValues.pcr=n?"y_ca":"n_ca")};window.registerAuthConsumer?window.registerAuthConsumer(t):(window.authConsumers=window.authConsumers||[],window.authConsumers.push(t))}catch(e){this.zeus.error("Can not register AuthConsumer",{name:name,err:e})}}},{key:"init",value:function(e){return this.itid_temp(),this.itid(),this.itidr(),this.j_tid(),this.j_cid(e),this.j_ucid(),this.fLoC(e),this.sub(),this.WPATC(),this.wp_ref(),this.embed_domain(),this.wp_fusion(),this.ca(),this.audienceKeys(),this.ct(),this.hl(),this.wpnode(),this.page(),this.pageId(),this.wp_pub_date(),this.author(),this.spon_con(),this.wp_tag(),this.exclusions(),this.setEmailSpon(),this.setGDPR(),this.wp_tab(),this.crd(),this.setPcr(),{keyValues:this.keyValues,categoryExclusions:this.categoryExclusions}}}])&&l(t.prototype,n),r&&l(t,r),e}();t.default=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a={init:function(e){var t,n,o,a,s,u=(null==e||null===(t=e.general)||void 0===t?void 0:t.slotPrefix)||"zeus_",c=null==e?void 0:e.wpAdParams,l=(n=(0,r.getCookie)("wapo_actmgmt"),o=(0,r.getCookie)("wapo_login_id"),a=(null==n?void 0:n.indexOf("isub:1"))>-1?"sub_":"",s=""===a&&o?"reg_":"",document.cookie.split(";").filter((function(e){return e.match(/wp_ak_v_*/)})).map((function(e){var t=i(e.trim().split("="),2),n=t[0],r=t[1];return["".concat(s).concat(a).concat(n.replace("wp_ak_v_","")),r.split("|")[0]]})));return{setCtr:function(e){var t=e.zeus,n=e.targeting,r=e.isRefreshed,i=[null!=t&&t.variant?"_".concat(t.variant):"",n.pos?"_".concat(n.pos):"",r?"_refresh,refresh":""];return{ctr:"zeus".concat(i.filter(Boolean).join("")).split(",")}},setSafety:function(e){var t=e.targeting;return(0,r.safeGet)(c,"ias.kvs.".concat(u).concat(t.pos),{})},setRefresh:function(e){return{wp_ad_refresh:e.isRefreshed?"1":"0"}},setKw:function(){var e=window.location.href,t=(0,r.urlCheck)(e,"test_ads","variable");return t?{kw:["test_".concat(t)]}:{}},setRefreshCount:function(e){var t=e.pos,n=e.renderCount;return{wp_refresh:"".concat(t,"_").concat(n)}},setPwt:function(e){var t=e.pos,n=e.isRefreshed;if(0!==l.length)return{pwt:l.map((function(e){var r=i(e,2),o=r[0],a=r[1],s=[t];return n&&s.push("refresh"),s.push(o),s.push(a),s.join("_")}))}}}}};t.default=a}]);